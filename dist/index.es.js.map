{"version":3,"file":"index.es.js","sources":["../src/helpers.js","../src/hooks/useWidth.js","../src/hooks/useColumns.js","../src/components/PreviewList.js","../src/components/SnackbarContentWrapper.js","../src/hooks/useSnackbar.js","../src/components/DropzoneAreaBase.js","../src/hooks/useFiles.js","../src/components/DropzoneArea.js","../src/components/DropzoneDialogBase.js","../src/components/DropzoneDialog.js"],"sourcesContent":["export function isImage(file) {\n    if (file.type.split('/')[0] === 'image') {\n        return true;\n    }\n}\n\nexport function convertBytesToMbsOrKbs(filesize) {\n    let size = '';\n    if (filesize >= 1048576) {\n        size = (filesize / 1048576) + ' megabytes';\n    } else if (filesize >= 1024) {\n        size = (filesize / 1024) + ' kilobytes';\n    } else {\n        size = filesize + ' bytes';\n    }\n    return size;\n}\n\nexport async function createFileFromUrl(url) {\n    const response = await fetch(url);\n    const data = await response.blob();\n    const metadata = {type: data.type};\n    const filename = url.replace(/\\?.+/, '').split('/').pop();\n    return new File([data], filename, metadata);\n}\n\nexport function readFile(file) {\n    return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.onload = (event) => {\n            resolve(event?.target?.result);\n        };\n        reader.onerror = (event) => {\n            reader.abort();\n            reject(event);\n        };\n        reader.readAsDataURL(file);\n    });\n}\n","import useMediaQuery from '@material-ui/core/useMediaQuery';\nimport {useTheme} from '@material-ui/core/styles';\n\n/**\n * Returns xs,sm,md,lg or xl depending on the screenSize\n * @see https://material-ui.com/components/use-media-query/#migrating-from-withwidth\n */\nexport const useWidth = () => {\n    const theme = useTheme();\n    const keys = [...theme.breakpoints.keys].reverse();\n    return (\n        keys.reduce((output, key) => {\n            const matches = useMediaQuery(theme.breakpoints.up(key));\n            return !output && matches ? key : output;\n        }, null) || 'xs'\n    );\n};\n","import {useState, useEffect} from 'react';\nimport {useWidth} from './useWidth';\n\n/**\n * Calculates the number of columns to use in the preview based on a function passed in\n * numberOfColumns is a state variable which will update every time the width of the\n * screen changes\n */\nexport const useColumns = (getCols, filesLimit, numberOfFileObjects) => {\n    const [numberOfColumns, setCols] = useState(1);\n    const width = useWidth();\n\n    useEffect(() => {\n        const cols = getCols(width, filesLimit, numberOfFileObjects);\n        setCols(cols);\n    }, [width]);\n\n    return numberOfColumns;\n};\n","import Chip from '@material-ui/core/Chip';\nimport GridList from '@material-ui/core/GridList';\nimport GridListTile from '@material-ui/core/GridListTile';\nimport GridListTileBar from '@material-ui/core/GridListTileBar';\nimport IconButton from '@material-ui/core/IconButton';\nimport {makeStyles} from '@material-ui/core/styles';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport {isImage as isImageCheck} from '../helpers';\nimport clsx from 'clsx';\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport {useColumns} from '../hooks/useColumns';\n\nconst useStyles = makeStyles(({spacing}) => ({\n    root: {\n        alignItems: 'center',\n        position: 'absolute',\n        width: '100%',\n        height: '100%',\n        margin: 0,\n        backgroundColor: 'rgba(255,255,255,0.87)',\n    },\n    icon: {\n        color: 'rgba(255, 255, 255, 0.54)',\n    },\n    iconWrapper: {\n        height: '100%',\n        backgroundColor: '#f2f2f2',\n    },\n    fileIcon: {\n        flexGrow: 1,\n        height: '50%',\n        marginTop: spacing(3),\n    },\n    fileIconBottom: {\n        marginTop: spacing(9),\n    },\n}\n), {name: 'MuiDropzonePreviewList'});\n\nconst PreviewList = ({\n    fileObjects,\n    filesLimit,\n    getCols,\n    handleRemove,\n    showFileNames,\n    useChipsForPreview,\n    previewChipProps,\n    previewGridClasses,\n    previewGridProps,\n    previewType,\n    getPreviewIcon,\n}) => {\n    const classes = useStyles();\n    const cols = useColumns(getCols, filesLimit, fileObjects.length);\n    const previewInside = previewType === 'inside';\n\n    if (useChipsForPreview) {\n        return (\n            <Grid\n                spacing={1}\n                direction=\"row\"\n                {...previewGridProps.container}\n                container={true}\n                className={clsx(classes.root, previewGridClasses.container)}\n            >\n                {fileObjects.map((fileObject, i) => {\n                    return (\n                        <Grid\n                            {...previewGridProps.item}\n                            item={true}\n                            key={`${fileObject.file?.name ?? 'file'}-${i}`}\n                            className={classes.imageContainer}\n                        >\n                            <Chip\n                                variant=\"outlined\"\n                                {...previewChipProps}\n                                label={fileObject.file.name}\n                                onDelete={handleRemove(i)}\n                            />\n                        </Grid>\n                    );\n                })}\n            </Grid>\n        );\n    }\n\n    return (\n        <GridList cols={cols}\n            className={clsx({[classes.root]: previewInside}, previewGridClasses.container)}\n            {...previewGridProps?.gridList}>\n            {fileObjects.map((fileObject, i) => {\n                const fileTitle = showFileNames && fileObject.file?.name;\n                const isImage = isImageCheck(fileObject.file);\n\n                return (\n                    <GridListTile\n                        key={`${fileObject.file?.name ?? 'file'}-${i}`}\n                        className={clsx(previewGridClasses.gridListTile, {[classes.iconWrapper]: !isImage})}\n                        {...previewGridProps?.gridListTitle}\n                    >\n                        {getPreviewIcon(\n                            fileObject,\n                            classes,\n                            isImage,\n                            previewGridProps?.gridListTitleBar?.titlePosition === 'top'\n                        )}\n\n                        <GridListTileBar\n                            title={fileTitle}\n                            actionIcon={\n                                <IconButton\n                                    onClick={handleRemove(i)}\n                                    aria-label={'Delete'}\n                                    className={clsx(previewGridClasses.removeIconButton, classes.icon)}\n                                >\n                                    <DeleteIcon />\n                                </IconButton>\n                            }\n                            {...previewGridProps?.gridListTitleBar}\n                        />\n\n                    </GridListTile>\n                );\n            })}\n        </GridList>\n    );\n};\n\nPreviewList.propTypes = {\n    fileObjects: PropTypes.arrayOf(PropTypes.object).isRequired,\n    filesLimit: PropTypes.number.isRequired,\n    getCols: PropTypes.func.isRequired,\n    getPreviewIcon: PropTypes.func.isRequired,\n    handleRemove: PropTypes.func.isRequired,\n    previewChipProps: PropTypes.object,\n    previewGridClasses: PropTypes.object,\n    previewGridProps: PropTypes.object,\n    previewType: PropTypes.string.isRequired,\n    showFileNames: PropTypes.bool,\n    useChipsForPreview: PropTypes.bool,\n};\n\nexport default PreviewList;\n","import IconButton from '@material-ui/core/IconButton';\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\nimport {makeStyles} from '@material-ui/core/styles';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport CloseIcon from '@material-ui/icons/Close';\nimport ErrorIcon from '@material-ui/icons/Error';\nimport InfoIcon from '@material-ui/icons/Info';\nimport WarningIcon from '@material-ui/icons/Warning';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport * as React from 'react';\n\nconst variantIcon = {\n    success: CheckCircleIcon,\n    warning: WarningIcon,\n    error: ErrorIcon,\n    info: InfoIcon,\n};\n\nconst useStyles = makeStyles((theme) => ({\n    successAlert: {\n        backgroundColor: theme.palette.success.main,\n    },\n    errorAlert: {\n        backgroundColor: theme.palette.error.main,\n    },\n    infoAlert: {\n        backgroundColor: theme.palette.info.main,\n    },\n    warningAlert: {\n        backgroundColor: theme.palette.warning.main,\n    },\n    message: {\n        display: 'flex',\n        alignItems: 'center',\n        '& > svg': {\n            marginRight: theme.spacing(1),\n        },\n    },\n    icon: {\n        fontSize: 20,\n        opacity: 0.9,\n    },\n    closeButton: {},\n\n}), {name: 'MuiDropzoneSnackbar'});\n\n\nfunction SnackbarContentWrapper({\n    className,\n    message,\n    onClose,\n    variant,\n    ...other\n}) {\n    const classes = useStyles();\n    const Icon = variantIcon[variant];\n\n    return (\n        <SnackbarContent\n            className={clsx(classes[`${variant}Alert`], className)}\n            aria-describedby=\"client-snackbar\"\n            message={\n                <span id=\"client-snackbar\" className={classes.message}>\n                    <Icon className={classes.icon} />\n                    {message}\n                </span>\n            }\n            action={[\n                <IconButton\n                    key=\"close\"\n                    aria-label=\"Close\"\n                    color=\"inherit\"\n                    className={classes.closeButton}\n                    onClick={onClose}\n                >\n                    <CloseIcon className={classes.icon} />\n                </IconButton>,\n            ]}\n            {...other}\n        />\n    );\n}\n\nSnackbarContentWrapper.propTypes = {\n    classes: PropTypes.object.isRequired,\n    className: PropTypes.string,\n    message: PropTypes.node,\n    onClose: PropTypes.func,\n    variant: PropTypes.oneOf(['success', 'warning', 'error', 'info']).isRequired,\n};\n\nexport default SnackbarContentWrapper;\n","import {useState, useCallback} from 'react';\n\n/**\n * Holds state required to utilize the snackbar and provides handlers to send messages via the snackbar\n */\nexport const useSnackbar = (onAlert) => {\n    const [state, setState] = useState({\n        open: false,\n        message: '',\n        variant: 'success',\n    });\n\n    const sendMessage = useCallback((message, variant) => {\n        setState({\n            open: true,\n            message: message,\n            variant,\n        });\n\n        if (onAlert) {\n            onAlert(message, variant);\n        }\n    }, [onAlert]);\n\n    const handleCloseSnackbar = useCallback(() => {\n        setState((prev) => ({...prev, open: false}));\n    }, []);\n\n    return {\n        handleCloseSnackbar,\n        sendMessage,\n        snackbarMessage: state.message,\n        snackbarVariant: state.variant,\n        snackbarOpen: state.open,\n    };\n};\n","import Snackbar from '@material-ui/core/Snackbar';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport AttachFileIcon from '@material-ui/icons/AttachFile';\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport * as React from 'react';\nimport {Fragment, useCallback} from 'react';\nimport Dropzone from 'react-dropzone';\nimport makeStyles from '@material-ui/core/styles/makeStyles';\nimport {convertBytesToMbsOrKbs, readFile} from '../helpers';\nimport PreviewList from './PreviewList';\nimport SnackbarContentWrapper from './SnackbarContentWrapper';\nimport {useSnackbar} from '../hooks/useSnackbar';\n\nconst useStyles = makeStyles(({spacing, palette, shape}) => ({\n    '@keyframes progress': {\n        '0%': {\n            backgroundPosition: '0 0',\n        },\n        '100%': {\n            backgroundPosition: '-70px 0',\n        },\n    },\n    root: {\n        display: 'flex',\n        position: 'relative',\n        width: '100%',\n        minHeight: '250px',\n        backgroundColor: palette.background.paper,\n        border: 'dashed',\n        borderColor: palette.divider,\n        borderRadius: shape.borderRadius,\n        boxSizing: 'border-box',\n        cursor: 'pointer',\n        overflow: 'hidden',\n        flexDirection: 'column',\n        justifyContent: 'center',\n    },\n    active: {\n        animation: '$progress 2s linear infinite !important',\n        backgroundImage: `repeating-linear-gradient(-45deg, \n            ${palette.background.paper}, \n            ${palette.background.paper} 25px, \n            ${palette.divider} 25px, \n            ${palette.divider} 50px)`,\n        backgroundSize: '150% 100%',\n        border: 'solid',\n        borderColor: palette.primary.light,\n    },\n    invalid: {\n        backgroundImage: `repeating-linear-gradient(-45deg, \n            ${palette.error.light},\n            ${palette.error.light} 25px,\n            ${palette.error.dark} 25px,\n            ${palette.error.dark} 50px)`,\n        borderColor: palette.error.main,\n    },\n    textContainer: {\n        display: 'flex',\n    },\n    text: {\n        marginBottom: spacing(3),\n        marginTop: spacing(3),\n    },\n    icon: {\n        width: 51,\n        height: 51,\n        color: palette.text.primary,\n    },\n}\n), {name: 'MuiDropzoneArea'});\n\nconst defaultGetCols = (width, filesLimit) => {\n    const returnBelowLimit = (number) => {\n        if (number < filesLimit) {\n            return number;\n        }\n        return filesLimit;\n    };\n\n    switch (width) {\n        case 'xs': return returnBelowLimit(1);\n        case 'sm': return returnBelowLimit(2);\n        case 'md': return returnBelowLimit(3);\n        case 'lg': return returnBelowLimit(4);\n        case 'xl': return returnBelowLimit(5);\n    }\n};\n\nconst defaultSnackbarAnchorOrigin = {\n    horizontal: 'left',\n    vertical: 'bottom',\n};\n\nconst defaultGetPreviewIcon = (fileObject, classes, isImage, titleBarTop) => {\n    if (isImage) {\n        return (<img\n            className={classes.image}\n            role=\"presentation\"\n            src={fileObject.data}\n        />);\n    }\n\n    return <Grid container className={classes.iconWrapper} justify=\"center\" >\n        <AttachFileIcon className={clsx(classes.fileIcon, {[classes.fileIconBottom]: titleBarTop})} />\n    </Grid>;\n};\n\n/**\n * This components creates a Material-UI Dropzone, with previews and snackbar notifications.\n */\nconst DropzoneAreaBase = ({\n    fileObjects,\n    filesLimit,\n    getFileAddedMessage,\n    getFileLimitExceedMessage,\n    getFileRemovedMessage,\n    getDropRejectMessage,\n    onAdd,\n    onAlert,\n    onDrop,\n    onDropRejected,\n    onDelete,\n    acceptedFiles,\n    alertSnackbarProps,\n    disableRejectionFeedback,\n    dropzoneClass,\n    dropzoneParagraphClass,\n    dropzoneProps,\n    dropzoneText,\n    getCols,\n    getPreviewIcon,\n    inputProps,\n    maxFileSize,\n    previewChipProps,\n    previewGridClasses,\n    previewGridProps,\n    previewText,\n    previewType,\n    showAlerts,\n    showFileNames,\n    useChipsForPreview,\n}) => {\n    const classes = useStyles();\n\n    const {\n        handleCloseSnackbar,\n        sendMessage,\n        snackbarMessage,\n        snackbarOpen,\n        snackbarVariant,\n    } = useSnackbar(onAlert);\n\n    const handleDropAccepted = useCallback(async(acceptedFiles, evt) => {\n        if (filesLimit > 1 && fileObjects.length + acceptedFiles.length > filesLimit) {\n            const message = getFileLimitExceedMessage(filesLimit);\n            sendMessage(message, 'error');\n            return;\n        }\n\n        // Notify Drop event\n        if (onDrop) {\n            onDrop(acceptedFiles, evt);\n        }\n\n        // Retrieve fileObjects data\n        const fileObjs = await Promise.all(\n            acceptedFiles.map(async(file) => {\n                const data = await readFile(file);\n                return {\n                    file,\n                    data,\n                };\n            })\n        );\n\n        // Notify added files\n        if (onAdd) {\n            onAdd(fileObjs);\n        }\n\n        const successMessage = fileObjs.reduce((msg, fileObj) => msg + getFileAddedMessage(fileObj.file.name), '');\n        sendMessage(successMessage, 'success');\n    }, [filesLimit, fileObjects, onDrop]);\n\n    const handleDropRejected = useCallback((rejectedFiles, evt) => {\n        let message = '';\n        if (fileObjects.length + rejectedFiles.length > filesLimit) {\n            message = getFileLimitExceedMessage(filesLimit);\n        } else {\n            rejectedFiles.forEach((rejectedFile) => {\n                message = getDropRejectMessage(rejectedFile, acceptedFiles, maxFileSize);\n            });\n        }\n\n        if (onDropRejected) {\n            onDropRejected(rejectedFiles, evt);\n        }\n        sendMessage(message, 'error');\n    }, [acceptedFiles, maxFileSize, onDropRejected]);\n\n    const handleRemove = useCallback((fileIndex) => (event) => {\n        event.stopPropagation();\n\n        // Find removed fileObject\n        const removedFileObj = fileObjects[fileIndex];\n\n        // Notify removed file\n        if (onDelete) {\n            onDelete(removedFileObj, fileIndex);\n        }\n        const message = getFileRemovedMessage(removedFileObj.file.name);\n        sendMessage(message, 'info');\n    }, [fileObjects, onDelete, getFileRemovedMessage]);\n\n    const acceptFiles = acceptedFiles?.join(',');\n    const isMultiple = filesLimit > 1;\n    const someFiles = fileObjects.length > 0;\n\n    return (\n        <>\n            <Dropzone\n                {...dropzoneProps}\n                accept={acceptFiles}\n                onDropAccepted={handleDropAccepted}\n                onDropRejected={handleDropRejected}\n                maxSize={maxFileSize}\n                multiple={isMultiple}\n            >\n                {({getRootProps, getInputProps, isDragActive, isDragReject}) => (\n                    <div\n                        {...getRootProps()}\n                        className={clsx(\n                            classes.root,\n                            dropzoneClass,\n                            isDragActive && classes.active,\n                            (!disableRejectionFeedback && isDragReject) && classes.invalid,\n                        )}\n                    >\n                        <input {...inputProps} {...getInputProps()} />\n\n                        <Grid container className={classes.textContainer} direction=\"column\" justify=\"center\" alignItems=\"center\">\n                            <Typography\n                                variant=\"h5\"\n                                component=\"p\"\n                                className={clsx(classes.text, dropzoneParagraphClass)}\n                            >\n                                {dropzoneText}\n                            </Typography>\n                            <CloudUploadIcon className={classes.icon} />\n                        </Grid>\n\n                        {someFiles && previewType === 'inside' &&\n              <PreviewList\n                  fileObjects={fileObjects}\n                  filesLimit={filesLimit}\n                  getCols={getCols}\n                  handleRemove={handleRemove}\n                  getPreviewIcon={getPreviewIcon}\n                  showFileNames={showFileNames}\n                  useChipsForPreview={useChipsForPreview}\n                  previewChipProps={previewChipProps}\n                  previewGridClasses={previewGridClasses}\n                  previewGridProps={previewGridProps}\n                  previewType={previewType}\n              />\n                        }\n                    </div>\n                )}\n            </Dropzone>\n\n            {someFiles && previewType === 'below' &&\n        <Fragment>\n            <Typography variant=\"subtitle1\" component=\"span\">\n                {previewText}\n            </Typography>\n\n            <PreviewList\n                fileObjects={fileObjects}\n                filesLimit={filesLimit}\n                getCols={getCols}\n                handleRemove={handleRemove}\n                getPreviewIcon={getPreviewIcon}\n                showFileNames={showFileNames}\n                useChipsForPreview={useChipsForPreview}\n                previewChipProps={previewChipProps}\n                previewGridClasses={previewGridClasses}\n                previewGridProps={previewGridProps}\n                previewType={previewType}\n            />\n        </Fragment>\n            }\n\n            {((typeof showAlerts === 'boolean' && showAlerts) ||\n        (Array.isArray(showAlerts) && showAlerts.includes(snackbarVariant))) &&\n        <Snackbar\n            anchorOrigin={defaultSnackbarAnchorOrigin}\n            autoHideDuration={6000}\n            {...alertSnackbarProps}\n            open={snackbarOpen}\n            onClose={handleCloseSnackbar}\n        >\n            <SnackbarContentWrapper\n                onClose={handleCloseSnackbar}\n                variant={snackbarVariant}\n                message={snackbarMessage}\n            />\n        </Snackbar>\n            }\n        </>\n    );\n};\n\nDropzoneAreaBase.defaultProps = {\n    acceptedFiles: [],\n    filesLimit: 3,\n    fileObjects: [],\n    maxFileSize: 3000000,\n    dropzoneText: 'Drag and drop a file here or click',\n    previewText: 'Preview:',\n    previewType: 'inside',\n    disableRejectionFeedback: false,\n    showFileNames: true,\n    useChipsForPreview: false,\n    previewChipProps: {},\n    previewGridClasses: {},\n    previewGridProps: {},\n    showAlerts: true,\n    alertSnackbarProps: {\n        anchorOrigin: {\n            horizontal: 'left',\n            vertical: 'bottom',\n        },\n        autoHideDuration: 6000,\n    },\n    getCols: defaultGetCols,\n    getFileLimitExceedMessage: (filesLimit) => (`Maximum allowed number of files exceeded. Only ${filesLimit} allowed`),\n    getFileAddedMessage: (fileName) => (`File ${fileName} successfully added.`),\n    getPreviewIcon: defaultGetPreviewIcon,\n    getFileRemovedMessage: (fileName) => (`File ${fileName} removed.`),\n    getDropRejectMessage: (rejectedFile, acceptedFiles, maxFileSize) => {\n        let message = `File ${rejectedFile.name} was rejected. `;\n        if (!acceptedFiles.includes(rejectedFile.type)) {\n            message += 'File type not supported. ';\n        }\n        if (rejectedFile.size > maxFileSize) {\n            message += 'File is too big. Size limit is ' + convertBytesToMbsOrKbs(maxFileSize) + '. ';\n        }\n        return message;\n    },\n};\n\nexport const FileObjectShape = PropTypes.shape({\n    file: PropTypes.object,\n    data: PropTypes.any,\n});\n\nDropzoneAreaBase.propTypes = {\n    /** A list of file types to accept.\n * @see See [here](https://react-dropzone.js.org/#section-accepting-specific-file-types) for more details.\n */\n    acceptedFiles: PropTypes.arrayOf(PropTypes.string),\n    /** Maximum number of files that can be loaded into the dropzone. */\n    filesLimit: PropTypes.number,\n    /** Icon to be displayed inside the dropzone area. */\n    Icon: PropTypes.elementType,\n    /** Currently loaded files. */\n    fileObjects: PropTypes.arrayOf(FileObjectShape),\n    /** Maximum file size (in bytes) that the dropzone will accept. */\n    maxFileSize: PropTypes.number,\n    /** Text inside the dropzone. */\n    dropzoneText: PropTypes.string,\n    /** Custom CSS class name for dropzone container. */\n    dropzoneClass: PropTypes.string,\n    /** Custom CSS class name for text inside the container. */\n    dropzoneParagraphClass: PropTypes.string,\n    /** Disable feedback effect when dropping rejected files. */\n    disableRejectionFeedback: PropTypes.bool,\n    /** Shows file name under the dropzone image. */\n    showFileNames: PropTypes.bool,\n    /** Shows file name under the image. */\n    useChipsForPreview: PropTypes.bool,\n    /**\n * Props to pass to the Material-UI Chip components.<br/>Requires `useChipsForPreview` prop to be `true`.\n *\n * @see See [Material-UI Chip](https://material-ui.com/api/chip/#props) for available values.\n */\n    previewChipProps: PropTypes.object,\n    /**\n * Custom CSS classNames for preview Grid components.<br/>\n * Should be in the form {container: string, item: string, image: string}.\n */\n    previewGridClasses: PropTypes.object,\n    /**\n * Props to pass to the Material-UI Grid components.<br/>\n * Should be in the form {container: GridProps, item: GridProps}.\n *\n * @see See [Material-UI Grid](https://material-ui.com/api/grid/#props) for available GridProps values.\n */\n    previewGridProps: PropTypes.object,\n    /** The label for the file preview section. */\n    previewText: PropTypes.string,\n    /** Determines whether previews are shown inside the dropzone area, below, or not at all. Acceptable values are 'inside', 'below', 'none'. */\n    previewType: PropTypes.oneOf(['inside', 'below', 'none']),\n    /**\n * Shows styled Material-UI Snackbar when files are dropped, deleted or rejected.\n *\n * - can be a boolean (\"global\" `true` or `false` for all alerts).\n * - can be an array, with values 'error', 'info', 'success' to select to view only certain alerts:\n *  - showAlerts={['error']} for only errors.\n *  - showAlerts={['error', 'info']} for both errors and info.\n *  - showAlerts={['error', 'success', 'info']} is same as showAlerts={true}.\n *  - showAlerts={[]} is same as showAlerts={false}.\n */\n    showAlerts: PropTypes.oneOfType([\n        PropTypes.bool,\n        PropTypes.arrayOf(PropTypes.oneOf(['error', 'success', 'info'])),\n    ]),\n    /**\n * Props to pass to the Material-UI Snackbar components.<br/>Requires `showAlerts` prop to be `true`.\n *\n * @see See [Material-UI Snackbar](https://material-ui.com/api/snackbar/#props) for available values.\n */\n    alertSnackbarProps: PropTypes.object,\n    /**\n * Props to pass to the Dropzone component.\n *\n * @see See [Dropzone props](https://react-dropzone.js.org/#src) for available values.\n */\n    dropzoneProps: PropTypes.object,\n    /**\n * Attributes applied to the input element.\n *\n * @see See [MDN Input File attributes](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/file#Additional_attributes) for available values.\n */\n    inputProps: PropTypes.object,\n    /**\n * A function which determines which the number of columns to display in the preview list\n *\n * *Default*: Returns a sensible number of columns depending on the screen size (i.e. xs=1, sm=2, md=3, lg=4, xl=5) without exceeding the filesLimit (e.g. There would be no point displaying 4 columns if the filesLimit is 3)\n *\n * @param {string} width Width prop from useWidth, this will be one of ['xs','sm','md','lg','xl'] depending on the current screen size\n * @param {number} filesLimit The `filesLimit` prop\n * @param {number} currentNumberOfFiles The number of files in the `state.fileObjects`\n */\n    getCols: PropTypes.func,\n    /**\n * Get alert message to display when files limit is exceed.\n *\n * *Default*: \"Maximum allowed number of files exceeded. Only ${filesLimit} allowed\"\n *\n * @param {number} filesLimit The `filesLimit` currently set for the component.\n */\n    getFileLimitExceedMessage: PropTypes.func,\n    /**\n * Get alert message to display when a new file is added.\n *\n * *Default*: \"File ${fileName} successfully added.\"\n *\n * @param {string} fileName The newly added file name.\n */\n    getFileAddedMessage: PropTypes.func,\n    /**\n * Get alert message to display when a file is removed.\n *\n * *Default*: \"File ${fileName} removed.\"\n *\n * @param {string} fileName The name of the removed file.\n */\n    getFileRemovedMessage: PropTypes.func,\n    /**\n * Get alert message to display when a file is rejected onDrop.\n *\n * *Default*: \"File ${rejectedFile.name} was rejected.\"\n *\n * @param {Object} rejectedFile The file that got rejected\n * @param {string[]} acceptedFiles The `acceptedFiles` prop currently set for the component\n * @param {number} maxFileSize The `maxFileSize` prop currently set for the component\n */\n    getDropRejectMessage: PropTypes.func,\n    /**\n * A function which determines which icon to display for a file preview.\n *\n * *Default*: If its an image then displays a preview the image, otherwise it will display an attachment icon\n *\n * @param {FileObject} objectFile The file which the preview will belong to\n * @param {Object} classes The classes for the file preview icon, in the default case we use the 'image' className.\n */\n    getPreviewIcon: PropTypes.func,\n    /**\n * Fired when new files are added to dropzone.\n *\n * @param {FileObject[]} newFiles The new files added to the dropzone.\n */\n    onAdd: PropTypes.func,\n    /**\n * Fired when an alert is triggered.\n *\n * @param {string} message Alert message.\n * @param {string} variant One of \"error\", \"info\", \"success\".\n */\n    onAlert: PropTypes.func,\n    /**\n * Fired when a file is deleted from the previews panel.\n *\n * @param {FileObject} deletedFileObject The file that was removed.\n * @param {number} index The index of the removed file object.\n */\n    onDelete: PropTypes.func,\n    /**\n * Fired when the user drops files into the dropzone.\n *\n * @param {File[]} droppedFiles All the files dropped into the dropzone.\n * @param {Event} event The react-dropzone drop event.\n */\n    onDrop: PropTypes.func,\n    /**\n * Fired when a file is rejected because of wrong file type, size or goes beyond the filesLimit.\n *\n * @param {File[]} rejectedFiles All the rejected files.\n * @param {Event} event The react-dropzone drop event.\n */\n    onDropRejected: PropTypes.func,\n    /**\n     * Fired when an alert is triggered.\n     *\n     * @param {string} message Alert message.\n     * @param {string} variant One of \"error\", \"info\", \"success\".\n     */\n    onAlert: PropTypes.func,\n};\n\nexport default DropzoneAreaBase;\n\n\n","import {useState, useEffect, useCallback} from 'react';\nimport {createFileFromUrl, readFile} from '../helpers';\n\n/**\n * holds files in its state and provides some handler methods to add and remove from that state\n */\nexport const useFiles = ({\n    onChange,\n    clearOnUnmount,\n    initialFiles,\n    filesLimit,\n    onDelete}) => {\n    const [fileObjects, setFileObjects] = useState([]);\n\n    // When the fileObjects change, fire the onChange method if it's defined\n    useEffect(() => {\n        if (onChange) {\n            onChange(fileObjects.map((fileObject) => fileObject.file));\n        }\n    }, [fileObjects, onChange]);\n\n    // Initialize the files when the hook is loaded\n    useEffect(() => {\n        loadInitialFiles();\n\n        return () => {\n            if (clearOnUnmount) {\n                setFileObjects([]);\n            }\n        };\n    }, [loadInitialFiles]);\n\n    const loadInitialFiles = useCallback(async() => {\n        try {\n            const fileObjs = await Promise.all(\n                initialFiles.map(async(url) => {\n                    const file = await createFileFromUrl(url);\n                    const data = await readFile(file);\n                    return {\n                        file,\n                        data,\n                    };\n                })\n            );\n\n            setFileObjects((prev) => ([...prev, ...fileObjs]));\n        } catch (err) {\n            console.log(err);\n        }\n    }, [initialFiles]);\n\n    const handleAddFiles = useCallback(async(newFileObjects) => {\n    // Update component state\n        setFileObjects((prev) => {\n            if (filesLimit <= 1) {\n                return [newFileObjects[0]];\n            }\n\n            return [...prev, ...newFileObjects];\n        });\n    }, [filesLimit]);\n\n    const handleDeleteFile = useCallback((removedFileObj, removedFileObjIdx) => {\n        event.stopPropagation();\n\n        // Calculate remaining fileObjects array\n        const remainingFileObjs = fileObjects.filter((fileObject, i) => {\n            return i !== removedFileObjIdx;\n        });\n\n        // Notify removed file\n        if (onDelete) {\n            onDelete(removedFileObj.file);\n        }\n\n        // Update local state\n        setFileObjects(remainingFileObjs);\n    }, [onDelete, fileObjects]);\n\n    const handleResetFiles = () => setFileObjects([]);\n\n    return {\n        handleAddFiles,\n        handleDeleteFile,\n        handleResetFiles,\n        fileObjects,\n    };\n};\n","import PropTypes from 'prop-types';\nimport * as React from 'react';\nimport DropzoneAreaBase from './DropzoneAreaBase';\nimport {useFiles} from '../hooks/useFiles';\n\n/**\n * This components creates an uncontrolled Material-UI Dropzone, with previews and snackbar notifications.\n *\n * It supports all props of `DropzoneAreaBase` but keeps the files state internally.\n *\n * **Note** To listen to file changes use `onChange` event handler and notice that `onDelete` returns a `File` instance instead of `FileObject`.\n */\n\nconst DropzoneArea = ({\n    clearOnUnmount,\n    initialFiles,\n    onChange,\n    onDelete,\n    filesLimit,\n    ...dropzoneAreaBaseProps\n\n}) => {\n    const {\n        handleDeleteFile,\n        handleAddFiles,\n        fileObjects,\n    } = useFiles({\n        onChange,\n        clearOnUnmount,\n        initialFiles,\n        filesLimit,\n        onDelete,\n    });\n\n    return (\n        <DropzoneAreaBase\n            {...dropzoneAreaBaseProps}\n            fileObjects={fileObjects}\n            onAdd={handleAddFiles}\n            onDelete={handleDeleteFile}\n\n        />\n    );\n};\n\nDropzoneArea.defaultProps = {\n    clearOnUnmount: true,\n    filesLimit: 3,\n    initialFiles: [],\n};\n\nDropzoneArea.propTypes = {\n    ...DropzoneAreaBase.propTypes,\n    /** Clear uploaded files when component is unmounted. */\n    clearOnUnmount: PropTypes.bool,\n    /** List containing File objects or URL strings.<br/>\n     * **Note:** Please take care of CORS.\n    */\n    initialFiles: PropTypes.arrayOf(\n        PropTypes.oneOfType([\n            PropTypes.string,\n            PropTypes.any,\n        ])\n    ),\n    /** Maximum number of files that can be loaded into the dropzone. */\n    filesLimit: PropTypes.number,\n    /**\n     * Fired when the files inside dropzone change.\n     *\n     * @param {File[]} loadedFiles All the files currently loaded into the dropzone.\n     */\n    onChange: PropTypes.func,\n    /**\n     * Fired when a file is deleted from the previews panel.\n     *\n     * @param {File} deletedFile The file that was removed.\n     */\n    onDelete: PropTypes.func,\n};\n\nexport default DropzoneArea;\n","import Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport PropTypes from 'prop-types';\nimport * as React from 'react';\n\nimport DropzoneAreaBase from './DropzoneAreaBase';\n\n/**\n * This component provides the DropzoneArea inside of a Material-UI Dialog.\n *\n * It supports all the Props and Methods from `DropzoneAreaBase`.\n */\nconst DropzoneDialogBase = ({\n    cancelButtonText,\n    dialogProps,\n    dialogTitle,\n    fullWidth,\n    maxWidth,\n    onClose,\n    onSave,\n    open,\n    submitButtonText,\n    ...dropzoneAreaProps\n}) => {\n    // Submit button state\n    const submitDisabled = dropzoneAreaProps.fileObjects.length === 0;\n\n    return (\n        <Dialog\n            cancelButtonText={cancelButtonText}\n            dialogProps={dialogProps}\n            dialogTitle={dialogTitle}\n            maxWidth={maxWidth}\n            onClose={onClose}\n            onSave={onSave}\n            open={open}\n            fullWidth={fullWidth}\n            fileObjects={dropzoneAreaProps.fileObjects}\n        >\n            <DialogTitle>{dialogTitle}</DialogTitle>\n\n            <DialogContent>\n                <DropzoneAreaBase\n                    {...dropzoneAreaProps}\n                />\n            </DialogContent>\n\n            <DialogActions>\n                <Button\n                    color=\"primary\"\n                    onClick={onClose}\n                >\n                    {cancelButtonText}\n                </Button>\n\n                <Button\n                    color=\"primary\"\n                    disabled={submitDisabled}\n                    onClick={onSave}\n                >\n                    {submitButtonText}\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n};\n\n\nDropzoneDialogBase.defaultProps = {\n    open: false,\n    dialogTitle: 'Upload file',\n    dialogProps: {},\n    fullWidth: true,\n    maxWidth: 'sm',\n    cancelButtonText: 'Cancel',\n    submitButtonText: 'Submit',\n    showPreviews: true,\n    showPreviewsInDropzone: false,\n    showFileNamesInPreview: true,\n};\n\nDropzoneDialogBase.propTypes = {\n    ...DropzoneAreaBase.propTypes,\n    /** Sets whether the dialog is open or closed. */\n    open: PropTypes.bool,\n    /** The Dialog title. */\n    dialogTitle: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.element,\n    ]),\n    /**\n     * Props to pass to the Material-UI Dialog components.\n     * @see See [Material-UI Dialog](https://material-ui.com/api/dialog/#props) for available values.\n     */\n    dialogProps: PropTypes.object,\n    /**\n     * If `true`, the dialog stretches to `maxWidth`.<br/>\n     * Notice that the dialog width grow is limited by the default margin.\n     */\n    fullWidth: PropTypes.bool,\n    /**\n     * Determine the max-width of the dialog. The dialog width grows with the size of the screen.<br/>\n     * Set to `false` to disable `maxWidth`.\n     */\n    maxWidth: PropTypes.string,\n    /** Cancel button text in dialog. */\n    cancelButtonText: PropTypes.string,\n    /** Submit button text in dialog. */\n    submitButtonText: PropTypes.string,\n    /**\n     * Fired when the modal is closed.\n     *\n     * @param {SyntheticEvent} event The react `SyntheticEvent`\n     */\n    onClose: PropTypes.func,\n    /**\n     * Fired when the user clicks the Submit button.\n     *\n     * @param {SyntheticEvent} event The react `SyntheticEvent`\n     */\n    onSave: PropTypes.func,\n    /**\n     * Shows previews **BELOW** the dropzone.<br/>\n     * **Note:** By default previews show up under in the Dialog and inside in the standalone.\n     */\n    showPreviews: PropTypes.bool,\n    /** Shows preview **INSIDE** the dropzone area. */\n    showPreviewsInDropzone: PropTypes.bool,\n    /** Shows file name under the image. */\n    showFileNamesInPreview: PropTypes.bool,\n};\n\nexport default DropzoneDialogBase;\n","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nimport {useFiles} from '../hooks/useFiles';\n\nimport DropzoneDialogBase from './DropzoneDialogBase';\n\n\n/**\n * This component provides an uncontrolled version of the DropzoneDialogBase component.\n *\n * It supports all the Props and Methods from `DropzoneDialogBase` but keeps the files state internally.\n *\n * **Note** The `onSave` handler also returns `File[]` with all the accepted files.\n */\nconst DropzoneDialog = ({\n    clearOnUnmount,\n    onClose,\n    onSave,\n    initialFiles,\n    filesLimit,\n    onDelete,\n    onChange,\n    ...other\n}) => {\n    const {\n        handleDeleteFile,\n        handleAddFiles,\n        fileObjects,\n        handleResetFiles,\n    } = useFiles({\n        onChange,\n        clearOnUnmount,\n        initialFiles,\n        filesLimit,\n        onDelete,\n    });\n\n    const handleClose = (evt) => {\n        if (onClose) {\n            onClose(evt);\n        }\n    };\n\n    const handleSave = (evt) => {\n        if (onSave) {\n            onSave(fileObjects.map((fileObject) => fileObject.file), evt);\n        }\n\n        if (clearOnUnmount) {\n            handleResetFiles();\n        }\n    };\n\n    return (\n        <DropzoneDialogBase\n            clearOnUnmount={clearOnUnmount}\n            initialFiles={initialFiles}\n            filesLimit={filesLimit}\n            onChange={onChange}\n            fileObjects={fileObjects}\n            onAdd={handleAddFiles}\n            onDelete={handleDeleteFile}\n            onClose={handleClose}\n            onSave={handleSave}\n            {...other}\n        />\n    );\n};\n\n\nDropzoneDialog.defaultProps = {\n    clearOnUnmount: true,\n    filesLimit: 3,\n    initialFiles: [],\n};\n\nDropzoneDialog.propTypes = {\n    ...DropzoneDialogBase.propTypes,\n    /** Clear uploaded files when component is unmounted. */\n    clearOnUnmount: PropTypes.bool,\n    /** Maximum number of files that can be loaded into the dropzone. */\n    filesLimit: PropTypes.number,\n    /** List containing File objects or URL strings.<br/>\n     * **Note:** Please take care of CORS.\n    */\n    initialFiles: PropTypes.arrayOf(\n        PropTypes.oneOfType([\n            PropTypes.string,\n            PropTypes.any,\n        ])\n    ),\n    /**\n   * Fired when the user clicks the Submit button.\n   *\n   * @param {File[]} files All the files currently inside the Dropzone.\n   * @param {SyntheticEvent} event The react `SyntheticEvent`.\n   */\n    onSave: PropTypes.func,\n};\n\nexport default DropzoneDialog;\n"],"names":["isImage","file","type","split","convertBytesToMbsOrKbs","filesize","size","createFileFromUrl","url","fetch","response","blob","data","metadata","filename","replace","pop","File","readFile","Promise","resolve","reject","reader","FileReader","onload","event","target","result","onerror","abort","readAsDataURL","useWidth","theme","useTheme","keys","breakpoints","reverse","reduce","output","key","matches","useMediaQuery","up","useColumns","getCols","filesLimit","numberOfFileObjects","useState","numberOfColumns","setCols","width","useEffect","cols","useStyles","makeStyles","spacing","root","alignItems","position","height","margin","backgroundColor","icon","color","iconWrapper","fileIcon","flexGrow","marginTop","fileIconBottom","name","PreviewList","fileObjects","handleRemove","showFileNames","useChipsForPreview","previewChipProps","previewGridClasses","previewGridProps","previewType","getPreviewIcon","classes","length","previewInside","React.createElement","container","clsx","map","fileObject","i","item","imageContainer","gridList","fileTitle","isImageCheck","gridListTile","gridListTitle","gridListTitleBar","titlePosition","removeIconButton","propTypes","PropTypes","arrayOf","object","isRequired","number","func","string","bool","variantIcon","success","CheckCircleIcon","warning","WarningIcon","error","ErrorIcon","info","InfoIcon","successAlert","palette","main","errorAlert","infoAlert","warningAlert","message","display","marginRight","fontSize","opacity","closeButton","SnackbarContentWrapper","className","onClose","variant","other","Icon","node","oneOf","useSnackbar","onAlert","open","state","setState","sendMessage","useCallback","handleCloseSnackbar","prev","snackbarMessage","snackbarVariant","snackbarOpen","shape","backgroundPosition","minHeight","background","paper","border","borderColor","divider","borderRadius","boxSizing","cursor","overflow","flexDirection","justifyContent","active","animation","backgroundImage","backgroundSize","primary","light","invalid","dark","textContainer","text","marginBottom","defaultGetCols","returnBelowLimit","defaultSnackbarAnchorOrigin","horizontal","vertical","defaultGetPreviewIcon","titleBarTop","image","Grid","DropzoneAreaBase","getFileAddedMessage","getFileLimitExceedMessage","getFileRemovedMessage","getDropRejectMessage","onAdd","onDrop","onDropRejected","onDelete","acceptedFiles","alertSnackbarProps","disableRejectionFeedback","dropzoneClass","dropzoneParagraphClass","dropzoneProps","dropzoneText","inputProps","maxFileSize","previewText","showAlerts","handleDropAccepted","evt","all","fileObjs","successMessage","msg","fileObj","handleDropRejected","rejectedFiles","forEach","rejectedFile","fileIndex","stopPropagation","removedFileObj","acceptFiles","join","isMultiple","someFiles","getRootProps","getInputProps","isDragActive","isDragReject","Array","isArray","includes","defaultProps","anchorOrigin","autoHideDuration","fileName","FileObjectShape","any","elementType","oneOfType","useFiles","onChange","clearOnUnmount","initialFiles","setFileObjects","loadInitialFiles","console","log","handleAddFiles","newFileObjects","handleDeleteFile","removedFileObjIdx","remainingFileObjs","filter","handleResetFiles","DropzoneArea","dropzoneAreaBaseProps","DropzoneDialogBase","cancelButtonText","dialogProps","dialogTitle","fullWidth","maxWidth","onSave","submitButtonText","dropzoneAreaProps","submitDisabled","showPreviews","showPreviewsInDropzone","showFileNamesInPreview","element","DropzoneDialog","handleClose","handleSave"],"mappings":"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"}