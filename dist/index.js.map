{"version":3,"file":"index.js","sources":["../src/helpers.js","../src/hooks/useFiles.js","../src/hooks/useSnackbar.js","../src/hooks/useWidth.js","../src/hooks/useColumns.js","../src/components/PreviewList.js","../src/components/SnackbarContentWrapper.js","../src/components/DropzoneAreaBase.js","../src/components/DropzoneArea.js","../src/components/DropzoneDialogBase.js","../src/components/DropzoneDialog.js"],"sourcesContent":["export function isImage(file) {\n\tif (file.type.split('/')[0] === 'image') {\n\t\treturn true\n\t}\n\treturn false\n}\n\nexport function convertBytesToMbsOrKbs(filesize) {\n\tlet size = ''\n\tif (filesize >= 1048576) {\n\t\tsize = filesize / 1048576 + ' megabytes'\n\t} else if (filesize >= 1024) {\n\t\tsize = filesize / 1024 + ' kilobytes'\n\t} else {\n\t\tsize = filesize + ' bytes'\n\t}\n\n\treturn size\n}\n\nexport async function createFileFromUrl(url) {\n\tconst response = await fetch(url)\n\tconst data = await response.blob()\n\tconst metadata = { type: data.type }\n\tconst filename = url.replace(/\\?.+/, '').split('/').pop()\n\n\treturn new File([data], filename, metadata)\n}\n\nexport function readFile(file) {\n\treturn new Promise((resolve, reject) => {\n\t\tconst reader = new FileReader()\n\n\t\treader.onload = (event) => {\n\t\t\tresolve(event?.target?.result)\n\t\t}\n\t\treader.onerror = (event) => {\n\t\t\treader.abort()\n\t\t\treject(event)\n\t\t}\n\t\treader.readAsDataURL(file)\n\t})\n}\n","import { useCallback, useEffect, useState } from 'react'\n\nimport { createFileFromUrl, readFile } from '../helpers'\n\n/**\n * holds files in its state and provides some handler methods to add and remove from that state\n */\nconst useFiles = ({\n\tonChange,\n\tclearOnUnmount,\n\tinitialFiles,\n\tfilesLimit,\n\tonDelete\n}) => {\n\tconst [fileObjects, setFileObjects] = useState([])\n\n\tconst loadInitialFiles = useCallback(async () => {\n\t\ttry {\n\t\t\tconst fileObjs = await Promise.all(\n\t\t\t\tinitialFiles.map(async (initialFile) => {\n\t\t\t\t\tlet file\n\t\t\t\t\tif (typeof initialFile === 'string') {\n\t\t\t\t\t\tfile = await createFileFromUrl(initialFile)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfile = initialFile\n\t\t\t\t\t}\n\t\t\t\t\tconst data = await readFile(file)\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\tfile,\n\t\t\t\t\t\tdata\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t)\n\n\t\t\tsetFileObjects((prev) => [...prev, ...fileObjs])\n\t\t} catch (err) {\n\t\t\tconsole.log(err)\n\t\t}\n\t}, [initialFiles])\n\n\tconst handleAddFiles = useCallback(\n\t\t(newFileObjects) => {\n\t\t\t// Update component state\n\t\t\tsetFileObjects((prev) => {\n\t\t\t\tif (filesLimit <= 1) {\n\t\t\t\t\treturn [newFileObjects[0]]\n\t\t\t\t}\n\n\t\t\t\treturn [...prev, ...newFileObjects]\n\t\t\t})\n\t\t},\n\t\t[filesLimit]\n\t)\n\n\tconst handleDeleteFile = useCallback(\n\t\t(removedFileObj, removedFileObjIdx) => {\n\t\t\t// Calculate remaining fileObjects array\n\t\t\tconst remainingFileObjs = fileObjects.filter((fileObject, i) => {\n\t\t\t\treturn i !== removedFileObjIdx\n\t\t\t})\n\n\t\t\t// Notify removed file\n\t\t\tif (onDelete) {\n\t\t\t\tonDelete(removedFileObj.file)\n\t\t\t}\n\n\t\t\t// Update local state\n\t\t\tsetFileObjects(remainingFileObjs)\n\t\t},\n\t\t[onDelete, fileObjects]\n\t)\n\n\tconst handleResetFiles = () => setFileObjects([])\n\n\t// When the fileObjects change, fire the onChange method if it's defined\n\tuseEffect(() => {\n\t\tif (onChange) {\n\t\t\tonChange(fileObjects.map((fileObject) => fileObject.file))\n\t\t}\n\t}, [fileObjects, onChange])\n\n\t// Initialize the files when the hook is loaded\n\tuseEffect(() => {\n\t\tloadInitialFiles()\n\n\t\treturn () => {\n\t\t\tif (clearOnUnmount) {\n\t\t\t\tsetFileObjects([])\n\t\t\t}\n\t\t}\n\t}, [clearOnUnmount, loadInitialFiles])\n\n\treturn {\n\t\tfileObjects,\n\t\thandleAddFiles,\n\t\thandleDeleteFile,\n\t\thandleResetFiles\n\t}\n}\n\nexport default useFiles\n","import { useCallback, useState } from 'react'\n\n/**\n * Holds state required to utilize the snackbar and provides handlers to send messages via the snackbar\n */\nconst useSnackbar = (onAlert) => {\n\tconst [state, setState] = useState({\n\t\topen: false,\n\t\tmessage: '',\n\t\tvariant: 'success'\n\t})\n\n\tconst sendMessage = useCallback(\n\t\t(message, variant) => {\n\t\t\tsetState({\n\t\t\t\topen: true,\n\t\t\t\tmessage,\n\t\t\t\tvariant\n\t\t\t})\n\n\t\t\tif (onAlert) {\n\t\t\t\tonAlert(message, variant)\n\t\t\t}\n\t\t},\n\t\t[onAlert]\n\t)\n\n\tconst handleCloseSnackbar = useCallback(() => {\n\t\tsetState((prev) => ({ ...prev, open: false }))\n\t}, [])\n\n\treturn {\n\t\thandleCloseSnackbar,\n\t\tsendMessage,\n\t\tsnackbarMessage: state.message,\n\t\tsnackbarOpen: state.open,\n\t\tsnackbarVariant: state.variant\n\t}\n}\n\nexport default useSnackbar\n","import { useMediaQuery } from '@material-ui/core'\nimport { useTheme } from '@material-ui/core/styles'\n\n/**\n * Returns xs,sm,md,lg or xl depending on the screenSize\n * @see https://material-ui.com/components/use-media-query/#migrating-from-withwidth\n */\nconst useWidth = () => {\n\tconst theme = useTheme()\n\tconst keys = [...theme.breakpoints.keys].reverse()\n\n\treturn (\n\t\tkeys.reduce((output, key) => {\n\t\t\t// eslint-disable-next-line react-hooks/rules-of-hooks\n\t\t\tconst matches = useMediaQuery(theme.breakpoints.up(key))\n\t\t\treturn !output && matches ? key : output\n\t\t}, null) || 'xs'\n\t)\n}\n\nexport default useWidth\n","import { useEffect, useState } from 'react'\n\nimport useWidth from './useWidth'\n\n/**\n * Calculates the number of columns to use in the preview based on a function passed in\n * numberOfColumns is a state variable which will update every time the width of the\n * screen changes\n */\nconst useColumns = (getCols, filesLimit, numberOfFileObjects) => {\n\tconst [numberOfColumns, setCols] = useState(1)\n\tconst width = useWidth()\n\n\tuseEffect(() => {\n\t\tconst cols = getCols(width, filesLimit, numberOfFileObjects)\n\t\tsetCols(cols)\n\t}, [filesLimit, getCols, numberOfFileObjects, width])\n\n\treturn numberOfColumns\n}\n\nexport default useColumns\n","import {\n\tChip,\n\tGrid,\n\tGridList,\n\tGridListTile,\n\tGridListTileBar,\n\tIconButton\n} from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { Delete as DeleteIcon } from '@material-ui/icons'\nimport clsx from 'clsx'\nimport PropTypes from 'prop-types'\nimport * as React from 'react'\n\nimport { isImage as isImageCheck } from '../helpers'\nimport useColumns from '../hooks/useColumns'\n\nconst useStyles = makeStyles(\n\t({ spacing }) => ({\n\t\troot: {\n\t\t\talignItems: 'center',\n\t\t\tposition: 'absolute',\n\t\t\twidth: '100%',\n\t\t\theight: '100%',\n\t\t\tmargin: 0,\n\t\t\tbackgroundColor: 'rgba(255,255,255,0.87)'\n\t\t},\n\t\ticon: {\n\t\t\tcolor: 'rgba(255, 255, 255, 0.54)'\n\t\t},\n\t\ticonWrapper: {\n\t\t\theight: '100%',\n\t\t\tbackgroundColor: '#f2f2f2'\n\t\t},\n\t\timageContainer: {\n\t\t\tposition: 'relative',\n\t\t\tzIndex: 10,\n\t\t\ttextAlign: 'center',\n\t\t\t'&:hover $image': {\n\t\t\t\topacity: 0.3\n\t\t\t},\n\t\t\t'&:hover $removeButton': {\n\t\t\t\topacity: 1\n\t\t\t}\n\t\t},\n\t\tfileIcon: {\n\t\t\tflexGrow: 1,\n\t\t\theight: '50%',\n\t\t\tmarginTop: spacing(3)\n\t\t},\n\t\tfileIconBottom: {\n\t\t\tmarginTop: spacing(9)\n\t\t}\n\t}),\n\t{ name: 'MuiDropzonePreviewList' }\n)\n\nconst PreviewList = ({\n\tfileObjects,\n\tfilesLimit,\n\tgetCols,\n\thandleRemove,\n\tshowFileNames,\n\tuseChipsForPreview,\n\tpreviewChipProps,\n\tpreviewGridClasses,\n\tpreviewGridProps,\n\tpreviewType,\n\tgetPreviewIcon,\n\thandlePreviewClick\n}) => {\n\tconst classes = useStyles()\n\tconst cols = useColumns(getCols, filesLimit, fileObjects.length)\n\tconst previewInside = previewType === 'inside'\n\n\tif (useChipsForPreview) {\n\t\treturn (\n\t\t\t<Grid\n\t\t\t\tspacing={1}\n\t\t\t\tdirection=\"row\"\n\t\t\t\t{...previewGridProps.container}\n\t\t\t\tcontainer={true}\n\t\t\t\tclassName={clsx(classes.root, previewGridClasses.container)}\n\t\t\t>\n\t\t\t\t{fileObjects.map((fileObject, i) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\t{...previewGridProps.item}\n\t\t\t\t\t\t\titem={true}\n\t\t\t\t\t\t\tkey={`${fileObject.file?.name ?? 'file'}-${i}`}\n\t\t\t\t\t\t\tclassName={classes.imageContainer}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t{...previewChipProps}\n\t\t\t\t\t\t\t\tlabel={fileObject.file.name}\n\t\t\t\t\t\t\t\tonDelete={handleRemove(i)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t)\n\t\t\t\t})}\n\t\t\t</Grid>\n\t\t)\n\t}\n\n\treturn (\n\t\t<GridList\n\t\t\tcols={cols}\n\t\t\tclassName={clsx(\n\t\t\t\t{ [classes.root]: previewInside },\n\t\t\t\tpreviewGridClasses.container\n\t\t\t)}\n\t\t\t{...previewGridProps?.gridList}\n\t\t>\n\t\t\t{fileObjects.map((fileObject, i) => {\n\t\t\t\tconst fileTitle = showFileNames && fileObject.file?.name\n\t\t\t\tconst isImage = isImageCheck(fileObject.file)\n\n\t\t\t\treturn (\n\t\t\t\t\t<GridListTile\n\t\t\t\t\t\tkey={`${fileObject.file?.name ?? 'file'}-${i}`}\n\t\t\t\t\t\tclassName={clsx(previewGridClasses.gridListTile, {\n\t\t\t\t\t\t\t[classes.iconWrapper]: !isImage\n\t\t\t\t\t\t})}\n\t\t\t\t\t\tonClick={handlePreviewClick(i)}\n\t\t\t\t\t\tonKeyDown={handlePreviewClick(i)}\n\t\t\t\t\t\t{...previewGridProps?.gridListTitle}\n\t\t\t\t\t>\n\t\t\t\t\t\t{getPreviewIcon(\n\t\t\t\t\t\t\tfileObject,\n\t\t\t\t\t\t\tclasses,\n\t\t\t\t\t\t\tisImage,\n\t\t\t\t\t\t\tpreviewGridProps?.gridListTitleBar?.titlePosition === 'top'\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t<GridListTileBar\n\t\t\t\t\t\t\ttitle={fileTitle}\n\t\t\t\t\t\t\tactionIcon={\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tonClick={handleRemove(i)}\n\t\t\t\t\t\t\t\t\taria-label=\"Delete\"\n\t\t\t\t\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t\t\t\t\tpreviewGridClasses.removeIconButton,\n\t\t\t\t\t\t\t\t\t\tclasses.icon\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<DeleteIcon />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{...previewGridProps?.gridListTitleBar}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</GridListTile>\n\t\t\t\t)\n\t\t\t})}\n\t\t</GridList>\n\t)\n}\n\nPreviewList.propTypes = {\n\tfileObjects: PropTypes.arrayOf(PropTypes.object).isRequired,\n\tfilesLimit: PropTypes.number.isRequired,\n\tgetCols: PropTypes.func.isRequired,\n\tgetPreviewIcon: PropTypes.func.isRequired,\n\thandleRemove: PropTypes.func.isRequired,\n\thandlePreviewClick: PropTypes.func.isRequired,\n\tpreviewChipProps: PropTypes.object,\n\tpreviewGridClasses: PropTypes.object,\n\tpreviewGridProps: PropTypes.object,\n\tpreviewType: PropTypes.string.isRequired,\n\tshowFileNames: PropTypes.bool,\n\tuseChipsForPreview: PropTypes.bool\n}\n\nexport default PreviewList\n","import { IconButton, SnackbarContent } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport {\n\tCheckCircle as CheckCircleIcon,\n\tClose as CloseIcon,\n\tError as ErrorIcon,\n\tInfo as InfoIcon,\n\tWarning as WarningIcon\n} from '@material-ui/icons'\nimport clsx from 'clsx'\nimport PropTypes from 'prop-types'\nimport * as React from 'react'\n\nconst variantIcon = {\n\tsuccess: CheckCircleIcon,\n\twarning: WarningIcon,\n\terror: ErrorIcon,\n\tinfo: InfoIcon\n}\n\nconst useStyles = makeStyles(\n\t(theme) => ({\n\t\tsuccessAlert: {\n\t\t\tbackgroundColor: theme.palette.success.main\n\t\t},\n\t\terrorAlert: {\n\t\t\tbackgroundColor: theme.palette.error.main\n\t\t},\n\t\tinfoAlert: {\n\t\t\tbackgroundColor: theme.palette.info.main\n\t\t},\n\t\twarningAlert: {\n\t\t\tbackgroundColor: theme.palette.warning.main\n\t\t},\n\t\tmessage: {\n\t\t\tdisplay: 'flex',\n\t\t\talignItems: 'center',\n\t\t\t'& > svg': {\n\t\t\t\tmarginRight: theme.spacing(1)\n\t\t\t}\n\t\t},\n\t\ticon: {\n\t\t\tfontSize: 20,\n\t\t\topacity: 0.9\n\t\t},\n\t\tcloseButton: {}\n\t}),\n\t{ name: 'MuiDropzoneSnackbar' }\n)\n\nfunction SnackbarContentWrapper({\n\tclassName = '',\n\tmessage,\n\tonClose,\n\tvariant,\n\t...other\n}) {\n\tconst classes = useStyles()\n\tconst Icon = variantIcon[variant]\n\n\treturn (\n\t\t<SnackbarContent\n\t\t\tclassName={clsx(classes[`${variant}Alert`], className)}\n\t\t\taria-describedby=\"client-snackbar\"\n\t\t\tmessage={\n\t\t\t\t<span id=\"client-snackbar\" className={classes.message}>\n\t\t\t\t\t<Icon className={classes.icon} />\n\t\t\t\t\t{message}\n\t\t\t\t</span>\n\t\t\t}\n\t\t\taction={[\n\t\t\t\t<IconButton\n\t\t\t\t\tkey=\"close\"\n\t\t\t\t\taria-label=\"Close\"\n\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\tclassName={classes.closeButton}\n\t\t\t\t\tonClick={onClose}\n\t\t\t\t>\n\t\t\t\t\t<CloseIcon className={classes.icon} />\n\t\t\t\t</IconButton>\n\t\t\t]}\n\t\t\t{...other}\n\t\t/>\n\t)\n}\n\nSnackbarContentWrapper.propTypes = {\n\tclassName: PropTypes.string,\n\tmessage: PropTypes.node,\n\tonClose: PropTypes.func,\n\tvariant: PropTypes.oneOf(['success', 'warning', 'error', 'info']).isRequired\n}\n\nexport default SnackbarContentWrapper\n","import { Grid, Typography, Snackbar } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport {\n\tAttachFile as AttachFileIcon,\n\tCloudUpload as CloudUploadIcon\n} from '@material-ui/icons'\nimport clsx from 'clsx'\nimport PropTypes from 'prop-types'\nimport * as React from 'react'\nimport { useCallback } from 'react'\nimport Dropzone from 'react-dropzone'\n\nimport { convertBytesToMbsOrKbs, readFile } from '../helpers'\nimport useSnackbar from '../hooks/useSnackbar'\nimport PreviewList from './PreviewList'\nimport SnackbarContentWrapper from './SnackbarContentWrapper'\n\nconst useStyles = makeStyles(\n\t({ spacing, palette, shape }) => ({\n\t\t'@keyframes progress': {\n\t\t\t'0%': {\n\t\t\t\tbackgroundPosition: '0 0'\n\t\t\t},\n\t\t\t'100%': {\n\t\t\t\tbackgroundPosition: '-70px 0'\n\t\t\t}\n\t\t},\n\t\troot: {\n\t\t\tdisplay: 'flex',\n\t\t\tposition: 'relative',\n\t\t\twidth: '100%',\n\t\t\tminHeight: '250px',\n\t\t\tbackgroundColor: palette.background.paper,\n\t\t\tborder: 'dashed',\n\t\t\tborderColor: palette.divider,\n\t\t\tborderRadius: shape.borderRadius,\n\t\t\tboxSizing: 'border-box',\n\t\t\tcursor: 'pointer',\n\t\t\toverflow: 'hidden',\n\t\t\tflexDirection: 'column',\n\t\t\tjustifyContent: 'center'\n\t\t},\n\t\tactive: {\n\t\t\tanimation: '$progress 2s linear infinite !important',\n\t\t\tbackgroundImage: `repeating-linear-gradient(-45deg,\n\t\t\t\t${palette.background.paper},\n\t\t\t\t${palette.background.paper} 25px,\n\t\t\t\t${palette.divider} 25px,\n\t\t\t\t${palette.divider} 50px)`,\n\t\t\tbackgroundSize: '150% 100%',\n\t\t\tborder: 'solid',\n\t\t\tborderColor: palette.primary.light\n\t\t},\n\t\tinvalid: {\n\t\t\tbackgroundImage: `repeating-linear-gradient(-45deg,\n\t\t\t\t${palette.error.light},\n\t\t\t\t${palette.error.light} 25px,\n\t\t\t\t${palette.error.dark} 25px,\n\t\t\t\t${palette.error.dark} 50px)`,\n\t\t\tborderColor: palette.error.main\n\t\t},\n\t\ttextContainer: {\n\t\t\tdisplay: 'flex'\n\t\t},\n\t\ttext: {\n\t\t\tmarginBottom: spacing(3),\n\t\t\tmarginTop: spacing(3)\n\t\t},\n\t\ticon: {\n\t\t\twidth: 51,\n\t\t\theight: 51,\n\t\t\tcolor: palette.text.primary\n\t\t}\n\t}),\n\t{ name: 'MuiDropzoneArea' }\n)\n\nconst shouldShowAlert = (enabledAlerts, alertVariant) => {\n\tif (!Array.isArray(enabledAlerts)) {\n\t\treturn true\n\t}\n\n\treturn enabledAlerts.includes(alertVariant)\n}\n\nconst defaultGetCols = (width, filesLimit) => {\n\tconst returnBelowLimit = (number) => {\n\t\tif (number < filesLimit) {\n\t\t\treturn number\n\t\t}\n\n\t\treturn filesLimit\n\t}\n\n\tswitch (width) {\n\t\tcase 'xs':\n\t\t\treturn returnBelowLimit(1)\n\t\tcase 'sm':\n\t\t\treturn returnBelowLimit(2)\n\t\tcase 'md':\n\t\t\treturn returnBelowLimit(3)\n\t\tcase 'lg':\n\t\t\treturn returnBelowLimit(4)\n\t\tcase 'xl':\n\t\t\treturn returnBelowLimit(5)\n\t\tdefault:\n\t\t\treturn returnBelowLimit(3)\n\t}\n}\n\nconst defaultSnackbarAnchorOrigin = {\n\thorizontal: 'left',\n\tvertical: 'bottom'\n}\n\nconst defaultGetPreviewIcon = (fileObject, classes, isImage, titleBarTop) => {\n\tif (isImage) {\n\t\treturn <img alt=\"\" className={classes.image} src={fileObject.data} />\n\t}\n\n\treturn (\n\t\t<Grid container className={classes.iconWrapper} justify=\"center\">\n\t\t\t<AttachFileIcon\n\t\t\t\tclassName={clsx(classes.fileIcon, {\n\t\t\t\t\t[classes.fileIconBottom]: titleBarTop\n\t\t\t\t})}\n\t\t\t/>\n\t\t</Grid>\n\t)\n}\n\n/**\n * This components creates a Material-UI Dropzone, with previews and snackbar notifications.\n */\nconst DropzoneAreaBase = ({\n\tfileObjects,\n\tfilesLimit,\n\tgetFileAddedMessage,\n\tgetFileLimitExceedMessage,\n\tgetFileRemovedMessage,\n\tgetDropRejectMessage,\n\tonAdd,\n\tonAlert,\n\tonDrop,\n\tonDropRejected,\n\tonDelete,\n\tonPreviewClick,\n\tacceptedFiles,\n\talertSnackbarProps,\n\tdisableRejectionFeedback,\n\tdropzoneClass,\n\tdropzoneParagraphClass,\n\tdropzoneProps,\n\tdropzoneText,\n\tgetCols,\n\tgetPreviewIcon,\n\tIcon,\n\tinputProps,\n\tmaxFileSize,\n\tpreviewChipProps,\n\tpreviewGridClasses,\n\tpreviewGridProps,\n\tpreviewText,\n\tpreviewType,\n\tshowAlerts,\n\tshowFileNames,\n\tuseChipsForPreview\n}) => {\n\tconst classes = useStyles()\n\n\tconst {\n\t\thandleCloseSnackbar,\n\t\tsendMessage,\n\t\tsnackbarMessage,\n\t\tsnackbarOpen,\n\t\tsnackbarVariant\n\t} = useSnackbar(onAlert)\n\n\tconst handleDropAccepted = useCallback(\n\t\tasync (droppedFiles, evt) => {\n\t\t\tif (\n\t\t\t\tfilesLimit > 1 &&\n\t\t\t\tfileObjects.length + droppedFiles.length > filesLimit\n\t\t\t) {\n\t\t\t\tconst message = getFileLimitExceedMessage(filesLimit)\n\t\t\t\tsendMessage(message, 'error')\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\t// Notify Drop event\n\t\t\tif (onDrop) {\n\t\t\t\tonDrop(droppedFiles, evt)\n\t\t\t}\n\n\t\t\t// Retrieve fileObjects data\n\t\t\tconst fileObjs = await Promise.all(\n\t\t\t\tdroppedFiles.map(async (file) => {\n\t\t\t\t\tconst data = await readFile(file)\n\t\t\t\t\treturn {\n\t\t\t\t\t\tfile,\n\t\t\t\t\t\tdata\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t)\n\n\t\t\t// Notify added files\n\t\t\tif (onAdd) {\n\t\t\t\tonAdd(fileObjs)\n\t\t\t}\n\n\t\t\tconst successMessage = fileObjs.reduce(\n\t\t\t\t(msg, fileObj) => msg + getFileAddedMessage(fileObj.file.name),\n\t\t\t\t''\n\t\t\t)\n\t\t\tsendMessage(successMessage, 'success')\n\t\t},\n\t\t[\n\t\t\tfilesLimit,\n\t\t\tfileObjects.length,\n\t\t\tonDrop,\n\t\t\tonAdd,\n\t\t\tsendMessage,\n\t\t\tgetFileLimitExceedMessage,\n\t\t\tgetFileAddedMessage\n\t\t]\n\t)\n\n\tconst handleDropRejected = useCallback(\n\t\t(rejectedFiles, evt) => {\n\t\t\tlet message = ''\n\t\t\trejectedFiles.forEach((rejectedFile) => {\n\t\t\t\tmessage = getDropRejectMessage(rejectedFile, acceptedFiles, maxFileSize)\n\t\t\t})\n\n\t\t\tif (onDropRejected) {\n\t\t\t\tonDropRejected(rejectedFiles, evt)\n\t\t\t}\n\t\t\tsendMessage(message, 'error')\n\t\t},\n\t\t[\n\t\t\tacceptedFiles,\n\t\t\tgetDropRejectMessage,\n\t\t\tmaxFileSize,\n\t\t\tonDropRejected,\n\t\t\tsendMessage\n\t\t]\n\t)\n\n\tconst handleRemove = useCallback(\n\t\t(fileIndex) => (event) => {\n\t\t\tevent.stopPropagation()\n\n\t\t\t// Find removed fileObject\n\t\t\tconst removedFileObj = fileObjects[fileIndex]\n\n\t\t\t// Notify removed file\n\t\t\tif (onDelete) {\n\t\t\t\tonDelete(removedFileObj, fileIndex)\n\t\t\t}\n\n\t\t\tconst message = getFileRemovedMessage(removedFileObj.file.name)\n\t\t\tsendMessage(message, 'info')\n\t\t},\n\t\t[fileObjects, onDelete, getFileRemovedMessage, sendMessage]\n\t)\n\n\tconst handlePreviewClick = useCallback(\n\t\t(fileIndex) => (event) => {\n\t\t\tevent.stopPropagation()\n\n\t\t\t// Find previewed fileObject\n\t\t\tconst previewedFileObj = fileObjects[fileIndex]\n\n\t\t\tonPreviewClick(previewedFileObj, fileIndex)\n\t\t},\n\t\t[fileObjects, onPreviewClick]\n\t)\n\n\tconst acceptFiles = acceptedFiles?.join(',')\n\tconst isMultiple = filesLimit > 1\n\tconst someFiles = fileObjects.length > 0\n\n\tconst alertsEnabled =\n\t\t(typeof showAlerts === 'boolean' && showAlerts) || Array.isArray(showAlerts)\n\tconst isAlertOpen =\n\t\tsnackbarOpen && shouldShowAlert(showAlerts, snackbarVariant)\n\n\treturn (\n\t\t<>\n\t\t\t<Dropzone\n\t\t\t\t{...dropzoneProps}\n\t\t\t\taccept={acceptFiles}\n\t\t\t\tonDropAccepted={handleDropAccepted}\n\t\t\t\tonDropRejected={handleDropRejected}\n\t\t\t\tmaxSize={maxFileSize}\n\t\t\t\tmultiple={isMultiple}\n\t\t\t>\n\t\t\t\t{({ getRootProps, getInputProps, isDragActive, isDragReject }) => (\n\t\t\t\t\t<div\n\t\t\t\t\t\t{...getRootProps({\n\t\t\t\t\t\t\tclassName: clsx(\n\t\t\t\t\t\t\t\tclasses.root,\n\t\t\t\t\t\t\t\tdropzoneClass,\n\t\t\t\t\t\t\t\tisDragActive && classes.active,\n\t\t\t\t\t\t\t\t!disableRejectionFeedback && isDragReject && classes.invalid\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t})}\n\t\t\t\t\t>\n\t\t\t\t\t\t<input {...getInputProps(inputProps)} />\n\n\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\tcontainer\n\t\t\t\t\t\t\tclassName={classes.textContainer}\n\t\t\t\t\t\t\tdirection=\"column\"\n\t\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\tvariant=\"h5\"\n\t\t\t\t\t\t\t\tcomponent=\"p\"\n\t\t\t\t\t\t\t\tclassName={clsx(classes.text, dropzoneParagraphClass)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{dropzoneText}\n\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t{Icon ? (\n\t\t\t\t\t\t\t\t<Icon className={classes.icon} />\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<CloudUploadIcon className={classes.icon} />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t{someFiles && previewType === 'inside' && (\n\t\t\t\t\t\t\t<PreviewList\n\t\t\t\t\t\t\t\tfileObjects={fileObjects}\n\t\t\t\t\t\t\t\tfilesLimit={filesLimit}\n\t\t\t\t\t\t\t\tgetCols={getCols}\n\t\t\t\t\t\t\t\thandleRemove={handleRemove}\n\t\t\t\t\t\t\t\tgetPreviewIcon={getPreviewIcon}\n\t\t\t\t\t\t\t\tshowFileNames={showFileNames}\n\t\t\t\t\t\t\t\tuseChipsForPreview={useChipsForPreview}\n\t\t\t\t\t\t\t\tpreviewChipProps={previewChipProps}\n\t\t\t\t\t\t\t\tpreviewGridClasses={previewGridClasses}\n\t\t\t\t\t\t\t\tpreviewGridProps={previewGridProps}\n\t\t\t\t\t\t\t\tpreviewType={previewType}\n\t\t\t\t\t\t\t\thandlePreviewClick={handlePreviewClick}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</Dropzone>\n\n\t\t\t{someFiles && previewType === 'below' && (\n\t\t\t\t<>\n\t\t\t\t\t<Typography variant=\"subtitle1\" component=\"span\">\n\t\t\t\t\t\t{previewText}\n\t\t\t\t\t</Typography>\n\n\t\t\t\t\t<PreviewList\n\t\t\t\t\t\tfileObjects={fileObjects}\n\t\t\t\t\t\tfilesLimit={filesLimit}\n\t\t\t\t\t\tgetCols={getCols}\n\t\t\t\t\t\thandleRemove={handleRemove}\n\t\t\t\t\t\tgetPreviewIcon={getPreviewIcon}\n\t\t\t\t\t\tshowFileNames={showFileNames}\n\t\t\t\t\t\tuseChipsForPreview={useChipsForPreview}\n\t\t\t\t\t\tpreviewChipProps={previewChipProps}\n\t\t\t\t\t\tpreviewGridClasses={previewGridClasses}\n\t\t\t\t\t\tpreviewGridProps={previewGridProps}\n\t\t\t\t\t\tpreviewType={previewType}\n\t\t\t\t\t\thandlePreviewClick={handlePreviewClick}\n\t\t\t\t\t/>\n\t\t\t\t</>\n\t\t\t)}\n\n\t\t\t{alertsEnabled && (\n\t\t\t\t<Snackbar\n\t\t\t\t\tanchorOrigin={defaultSnackbarAnchorOrigin}\n\t\t\t\t\tautoHideDuration={6000}\n\t\t\t\t\t{...alertSnackbarProps}\n\t\t\t\t\topen={isAlertOpen}\n\t\t\t\t\tonClose={handleCloseSnackbar}\n\t\t\t\t>\n\t\t\t\t\t<SnackbarContentWrapper\n\t\t\t\t\t\tonClose={handleCloseSnackbar}\n\t\t\t\t\t\tvariant={snackbarVariant}\n\t\t\t\t\t\tmessage={snackbarMessage}\n\t\t\t\t\t/>\n\t\t\t\t</Snackbar>\n\t\t\t)}\n\t\t</>\n\t)\n}\n\nDropzoneAreaBase.defaultProps = {\n\tacceptedFiles: [],\n\tfilesLimit: 3,\n\tfileObjects: [],\n\tmaxFileSize: 3000000,\n\tdropzoneText: 'Drag and drop a file here or click',\n\tpreviewText: 'Preview:',\n\tpreviewType: 'inside',\n\tdisableRejectionFeedback: false,\n\tshowFileNames: true,\n\tuseChipsForPreview: false,\n\tpreviewChipProps: {},\n\tpreviewGridClasses: {},\n\tpreviewGridProps: {},\n\tshowAlerts: true,\n\talertSnackbarProps: {\n\t\tanchorOrigin: {\n\t\t\thorizontal: 'left',\n\t\t\tvertical: 'bottom'\n\t\t},\n\t\tautoHideDuration: 6000\n\t},\n\tgetCols: defaultGetCols,\n\tgetFileLimitExceedMessage: (filesLimit) =>\n\t\t`Maximum allowed number of files exceeded. Only ${filesLimit} allowed`,\n\tgetFileAddedMessage: (fileName) => `File ${fileName} successfully added.`,\n\tgetPreviewIcon: defaultGetPreviewIcon,\n\tgetFileRemovedMessage: (fileName) => `File ${fileName} removed.`,\n\tgetDropRejectMessage: (rejectedFile, acceptedFiles, maxFileSize) => {\n\t\tlet message = `File ${rejectedFile.name} was rejected. `\n\t\tif (!acceptedFiles.includes(rejectedFile.type)) {\n\t\t\tmessage += 'File type not supported. '\n\t\t}\n\t\tif (rejectedFile.size > maxFileSize) {\n\t\t\tmessage += `File is too big. Size limit is ${convertBytesToMbsOrKbs(\n\t\t\t\tmaxFileSize\n\t\t\t)}. `\n\t\t}\n\n\t\treturn message\n\t},\n\tonPreviewClick: () => {}\n}\n\nexport const FileObjectShape = PropTypes.shape({\n\tfile: PropTypes.object,\n\tdata: PropTypes.any\n})\n\nDropzoneAreaBase.propTypes = {\n\t/** A list of file types to accept.\n\t * @see See [here](https://react-dropzone.js.org/#section-accepting-specific-file-types) for more details.\n\t */\n\tacceptedFiles: PropTypes.arrayOf(PropTypes.string),\n\t/** Maximum number of files that can be loaded into the dropzone. */\n\tfilesLimit: PropTypes.number,\n\t/** Icon to be displayed inside the dropzone area. */\n\tIcon: PropTypes.elementType,\n\t/** Currently loaded files. */\n\tfileObjects: PropTypes.arrayOf(FileObjectShape),\n\t/** Maximum file size (in bytes) that the dropzone will accept. */\n\tmaxFileSize: PropTypes.number,\n\t/** Text inside the dropzone. */\n\tdropzoneText: PropTypes.string,\n\t/** Custom CSS class name for dropzone container. */\n\tdropzoneClass: PropTypes.string,\n\t/** Custom CSS class name for text inside the container. */\n\tdropzoneParagraphClass: PropTypes.string,\n\t/** Disable feedback effect when dropping rejected files. */\n\tdisableRejectionFeedback: PropTypes.bool,\n\t/** Shows file name under the dropzone image. */\n\tshowFileNames: PropTypes.bool,\n\t/** Uses deletable Material-UI Chip components to display file names. */\n\tuseChipsForPreview: PropTypes.bool,\n\t/**\n\t * Props to pass to the Material-UI Chip components.<br/>Requires `useChipsForPreview` prop to be `true`.\n\t *\n\t * @see See [Material-UI Chip](https://material-ui.com/api/chip/#props) for available values.\n\t */\n\tpreviewChipProps: PropTypes.object,\n\t/**\n\t * Custom CSS classNames for preview Grid components.<br/>\n\t * Should be in the form {container: string, item: string, image: string}.\n\t */\n\tpreviewGridClasses: PropTypes.object,\n\t/**\n\t * Props to pass to the Material-UI Grid components.<br/>\n\t * Should be in the form {container: GridProps, item: GridProps}.\n\t *\n\t * @see See [Material-UI Grid](https://material-ui.com/api/grid/#props) for available GridProps values.\n\t */\n\tpreviewGridProps: PropTypes.object,\n\t/** The label for the file preview section. */\n\tpreviewText: PropTypes.string,\n\t/** Determines whether previews are shown inside the dropzone area, below, or not at all. Acceptable values are 'inside', 'below', 'none'. */\n\tpreviewType: PropTypes.oneOf(['inside', 'below', 'none']),\n\t/**\n\t * Shows styled Material-UI Snackbar when files are dropped, deleted or rejected.\n\t *\n\t * - can be a boolean (\"global\" `true` or `false` for all alerts).\n\t * - can be an array, with values 'error', 'info', 'success' to select to view only certain alerts:\n\t *  - showAlerts={['error']} for only errors.\n\t *  - showAlerts={['error', 'info']} for both errors and info.\n\t *  - showAlerts={['error', 'success', 'info']} is same as showAlerts={true}.\n\t *  - showAlerts={[]} is same as showAlerts={false}.\n\t */\n\tshowAlerts: PropTypes.oneOfType([\n\t\tPropTypes.bool,\n\t\tPropTypes.arrayOf(PropTypes.oneOf(['error', 'success', 'info']))\n\t]),\n\t/**\n\t * Props to pass to the Material-UI Snackbar components.<br/>Requires `showAlerts` prop to be `true`.\n\t *\n\t * @see See [Material-UI Snackbar](https://material-ui.com/api/snackbar/#props) for available values.\n\t */\n\talertSnackbarProps: PropTypes.object,\n\t/**\n\t * Props to pass to the Dropzone component.\n\t *\n\t * @see See [Dropzone props](https://react-dropzone.js.org/#src) for available values.\n\t */\n\tdropzoneProps: PropTypes.object,\n\t/**\n\t * Attributes applied to the input element.\n\t *\n\t * @see See [MDN Input File attributes](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/file#Additional_attributes) for available values.\n\t */\n\tinputProps: PropTypes.object,\n\t/**\n\t * A function which determines which the number of columns to display in the preview list\n\t *\n\t * *Default*: Returns a sensible number of columns depending on the screen size (i.e. xs=1, sm=2, md=3, lg=4, xl=5) without exceeding the filesLimit (e.g. There would be no point displaying 4 columns if the filesLimit is 3)\n\t *\n\t * @param {string} width Width prop from useWidth, this will be one of ['xs','sm','md','lg','xl'] depending on the current screen size\n\t * @param {number} filesLimit The `filesLimit` prop\n\t * @param {number} currentNumberOfFiles The number of files in the `state.fileObjects`\n\t */\n\tgetCols: PropTypes.func,\n\t/**\n\t * Get alert message to display when files limit is exceed.\n\t *\n\t * *Default*: \"Maximum allowed number of files exceeded. Only ${filesLimit} allowed\"\n\t *\n\t * @param {number} filesLimit The `filesLimit` currently set for the component.\n\t */\n\tgetFileLimitExceedMessage: PropTypes.func,\n\t/**\n\t * Get alert message to display when a new file is added.\n\t *\n\t * *Default*: \"File ${fileName} successfully added.\"\n\t *\n\t * @param {string} fileName The newly added file name.\n\t */\n\tgetFileAddedMessage: PropTypes.func,\n\t/**\n\t * Get alert message to display when a file is removed.\n\t *\n\t * *Default*: \"File ${fileName} removed.\"\n\t *\n\t * @param {string} fileName The name of the removed file.\n\t */\n\tgetFileRemovedMessage: PropTypes.func,\n\t/**\n\t * Get alert message to display when a file is rejected onDrop.\n\t *\n\t * *Default*: \"File ${rejectedFile.name} was rejected.\"\n\t *\n\t * @param {Object} rejectedFile The file that got rejected\n\t * @param {string[]} acceptedFiles The `acceptedFiles` prop currently set for the component\n\t * @param {number} maxFileSize The `maxFileSize` prop currently set for the component\n\t */\n\tgetDropRejectMessage: PropTypes.func,\n\t/**\n\t * A function which determines which icon to display for a file preview.\n\t *\n\t * *Default*: If its an image then displays a preview the image, otherwise it will display an attachment icon\n\t *\n\t * @param {FileObject} objectFile The file which the preview will belong to\n\t * @param {Object} classes The classes for the file preview icon, in the default case we use the 'image' className.\n\t */\n\tgetPreviewIcon: PropTypes.func,\n\t/**\n\t * Fired when new files are added to dropzone.\n\t *\n\t * @param {FileObject[]} newFiles The new files added to the dropzone.\n\t */\n\tonAdd: PropTypes.func,\n\t/**\n\t * Fired when an alert is triggered.\n\t *\n\t * @param {string} message Alert message.\n\t * @param {string} variant One of \"error\", \"info\", \"success\".\n\t */\n\tonAlert: PropTypes.func,\n\t/**\n\t * Fired when a file is deleted from the previews panel.\n\t *\n\t * @param {FileObject} deletedFileObject The file that was removed.\n\t * @param {number} index The index of the removed file object.\n\t */\n\tonDelete: PropTypes.func,\n\t/**\n\t * Fired when the user drops files into the dropzone.\n\t *\n\t * @param {File[]} droppedFiles All the files dropped into the dropzone.\n\t * @param {Event} event The react-dropzone drop event.\n\t */\n\tonDrop: PropTypes.func,\n\t/**\n\t * Fired when a file is rejected because of wrong file type, size or goes beyond the filesLimit.\n\t *\n\t * @param {File[]} rejectedFiles All the rejected files.\n\t * @param {Event} event The react-dropzone drop event.\n\t */\n\tonDropRejected: PropTypes.func,\n\t/**\n\t * Fired when the user click que preview icon in the image. If this props was not informed, the preview icon doesn't appears.\n\t *\n\t * @param {File} clickedFile File was clicked.\n\t * @param {number} index The index of clicked file object.\n\t */\n\tonPreviewClick: PropTypes.func\n}\n\nexport default DropzoneAreaBase\n","import PropTypes from 'prop-types'\nimport * as React from 'react'\n\nimport useFiles from '../hooks/useFiles'\n\nimport DropzoneAreaBase from './DropzoneAreaBase'\n\n/**\n * This components creates an uncontrolled Material-UI Dropzone, with previews and snackbar notifications.\n *\n * It supports all props of `DropzoneAreaBase` but keeps the files state internally.\n *\n * **Note** To listen to file changes use `onChange` event handler and notice that `onDelete` returns a `File` instance instead of `FileObject`.\n */\n\nconst DropzoneArea = ({\n\tclearOnUnmount,\n\tinitialFiles,\n\tonChange,\n\tonDelete,\n\tfilesLimit,\n\t...dropzoneAreaBaseProps\n}) => {\n\tconst { handleDeleteFile, handleAddFiles, fileObjects } = useFiles({\n\t\tonChange,\n\t\tclearOnUnmount,\n\t\tinitialFiles,\n\t\tfilesLimit,\n\t\tonDelete\n\t})\n\n\treturn (\n\t\t<DropzoneAreaBase\n\t\t\t{...dropzoneAreaBaseProps}\n\t\t\tfileObjects={fileObjects}\n\t\t\tonAdd={handleAddFiles}\n\t\t\tonDelete={handleDeleteFile}\n\t\t/>\n\t)\n}\n\nDropzoneArea.defaultProps = {\n\tclearOnUnmount: true,\n\tfilesLimit: 3,\n\tinitialFiles: []\n}\n\nDropzoneArea.propTypes = {\n\t...DropzoneAreaBase.propTypes,\n\t/** Clear uploaded files when component is unmounted. */\n\tclearOnUnmount: PropTypes.bool,\n\t/** List containing File objects or URL strings.<br/>\n\t * **Note:** Please take care of CORS.\n\t */\n\tinitialFiles: PropTypes.arrayOf(\n\t\tPropTypes.oneOfType([PropTypes.string, PropTypes.any])\n\t),\n\t/** Maximum number of files that can be loaded into the dropzone. */\n\tfilesLimit: PropTypes.number,\n\t/**\n\t * Fired when the files inside dropzone change.\n\t *\n\t * @param {File[]} loadedFiles All the files currently loaded into the dropzone.\n\t */\n\tonChange: PropTypes.func,\n\t/**\n\t * Fired when a file is deleted from the previews panel.\n\t *\n\t * @param {File} deletedFile The file that was removed.\n\t */\n\tonDelete: PropTypes.func\n}\n\nexport default DropzoneArea\n","import {\n\tButton,\n\tDialog,\n\tDialogActions,\n\tDialogContent,\n\tDialogTitle\n} from '@material-ui/core'\nimport PropTypes from 'prop-types'\nimport * as React from 'react'\n\nimport DropzoneAreaBase from './DropzoneAreaBase'\n\n/**\n * This component provides the DropzoneArea inside of a Material-UI Dialog.\n *\n * It supports all the Props and Methods from `DropzoneAreaBase`.\n */\nconst DropzoneDialogBase = ({\n\tcancelButtonText,\n\tdialogProps,\n\tdialogTitle,\n\tfullWidth,\n\tmaxWidth,\n\tonClose,\n\tonSave,\n\topen,\n\tsubmitButtonText,\n\t...dropzoneAreaProps\n}) => {\n\t// Submit button state\n\tconst submitDisabled = dropzoneAreaProps.fileObjects.length === 0\n\n\treturn (\n\t\t<Dialog\n\t\t\t{...dialogProps}\n\t\t\tfullWidth={fullWidth}\n\t\t\tmaxWidth={maxWidth}\n\t\t\tonClose={onClose}\n\t\t\topen={open}\n\t\t>\n\t\t\t<DialogTitle>{dialogTitle}</DialogTitle>\n\n\t\t\t<DialogContent>\n\t\t\t\t<DropzoneAreaBase {...dropzoneAreaProps} />\n\t\t\t</DialogContent>\n\n\t\t\t<DialogActions>\n\t\t\t\t<Button color=\"primary\" onClick={onClose}>\n\t\t\t\t\t{cancelButtonText}\n\t\t\t\t</Button>\n\n\t\t\t\t<Button color=\"primary\" disabled={submitDisabled} onClick={onSave}>\n\t\t\t\t\t{submitButtonText}\n\t\t\t\t</Button>\n\t\t\t</DialogActions>\n\t\t</Dialog>\n\t)\n}\n\nDropzoneDialogBase.defaultProps = {\n\topen: false,\n\tcancelButtonText: 'Cancel',\n\tdialogProps: {},\n\tdialogTitle: 'Upload file',\n\tfullWidth: true,\n\tmaxWidth: 'sm',\n\tsubmitButtonText: 'Submit',\n\tshowPreviews: true,\n\tshowPreviewsInDropzone: false,\n\tshowFileNamesInPreview: true\n}\n\nDropzoneDialogBase.propTypes = {\n\t...DropzoneAreaBase.propTypes,\n\t/** Sets whether the dialog is open or closed. */\n\topen: PropTypes.bool,\n\t/** The Dialog title. */\n\tdialogTitle: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n\t/**\n\t * Props to pass to the Material-UI Dialog components.\n\t * @see See [Material-UI Dialog](https://material-ui.com/api/dialog/#props) for available values.\n\t */\n\tdialogProps: PropTypes.object,\n\t/**\n\t * If `true`, the dialog stretches to `maxWidth`.<br/>\n\t * Notice that the dialog width grow is limited by the default margin.\n\t */\n\tfullWidth: PropTypes.bool,\n\t/**\n\t * Determine the max-width of the dialog. The dialog width grows with the size of the screen.<br/>\n\t * Set to `false` to disable `maxWidth`.\n\t */\n\tmaxWidth: PropTypes.string,\n\t/** Cancel button text in dialog. */\n\tcancelButtonText: PropTypes.string,\n\t/** Submit button text in dialog. */\n\tsubmitButtonText: PropTypes.string,\n\t/**\n\t * Fired when the modal is closed.\n\t *\n\t * @param {SyntheticEvent} event The react `SyntheticEvent`\n\t */\n\tonClose: PropTypes.func,\n\t/**\n\t * Fired when the user clicks the Submit button.\n\t *\n\t * @param {SyntheticEvent} event The react `SyntheticEvent`\n\t */\n\tonSave: PropTypes.func,\n\t/**\n\t * Shows previews **BELOW** the dropzone.<br/>\n\t * **Note:** By default previews show up under in the Dialog and inside in the standalone.\n\t */\n\tshowPreviews: PropTypes.bool,\n\t/** Shows preview **INSIDE** the dropzone area. */\n\tshowPreviewsInDropzone: PropTypes.bool,\n\t/** Shows file name under the image. */\n\tshowFileNamesInPreview: PropTypes.bool\n}\n\nexport default DropzoneDialogBase\n","import PropTypes from 'prop-types'\nimport * as React from 'react'\n\nimport useFiles from '../hooks/useFiles'\n\nimport DropzoneDialogBase from './DropzoneDialogBase'\n\n/**\n * This component provides an uncontrolled version of the DropzoneDialogBase component.\n *\n * It supports all the Props and Methods from `DropzoneDialogBase` but keeps the files state internally.\n *\n * **Note** The `onSave` handler also returns `File[]` with all the accepted files.\n */\nconst DropzoneDialog = ({\n\tclearOnUnmount,\n\tonClose,\n\tonSave,\n\tinitialFiles,\n\tfilesLimit,\n\tonDelete,\n\tonChange,\n\t...other\n}) => {\n\tconst { handleDeleteFile, handleAddFiles, fileObjects, handleResetFiles } =\n\t\tuseFiles({\n\t\t\tonChange,\n\t\t\tclearOnUnmount,\n\t\t\tinitialFiles,\n\t\t\tfilesLimit,\n\t\t\tonDelete\n\t\t})\n\n\tconst handleClose = (evt) => {\n\t\tif (onClose) {\n\t\t\tonClose(evt)\n\t\t}\n\t}\n\n\tconst handleSave = (evt) => {\n\t\tif (onSave) {\n\t\t\tonSave(\n\t\t\t\tfileObjects.map((fileObject) => fileObject.file),\n\t\t\t\tevt\n\t\t\t)\n\t\t}\n\n\t\tif (clearOnUnmount) {\n\t\t\thandleResetFiles()\n\t\t}\n\t}\n\n\treturn (\n\t\t<DropzoneDialogBase\n\t\t\tclearOnUnmount={clearOnUnmount}\n\t\t\tinitialFiles={initialFiles}\n\t\t\tfilesLimit={filesLimit}\n\t\t\tfileObjects={fileObjects}\n\t\t\tonAdd={handleAddFiles}\n\t\t\tonDelete={handleDeleteFile}\n\t\t\tonClose={handleClose}\n\t\t\tonChange={onChange}\n\t\t\tonSave={handleSave}\n\t\t\t{...other}\n\t\t/>\n\t)\n}\n\nDropzoneDialog.defaultProps = {\n\tclearOnUnmount: true,\n\tfilesLimit: 3,\n\tinitialFiles: []\n}\n\nDropzoneDialog.propTypes = {\n\t...DropzoneDialogBase.propTypes,\n\t/** Clear uploaded files when component is unmounted. */\n\tclearOnUnmount: PropTypes.bool,\n\t/** Maximum number of files that can be loaded into the dropzone. */\n\tfilesLimit: PropTypes.number,\n\t/** List containing File objects or URL strings.<br/>\n\t * **Note:** Please take care of CORS.\n\t */\n\tinitialFiles: PropTypes.arrayOf(\n\t\tPropTypes.oneOfType([PropTypes.string, PropTypes.any])\n\t),\n\t/**\n\t * Fired when the user clicks the Submit button.\n\t *\n\t * @param {File[]} files All the files currently inside the Dropzone.\n\t * @param {SyntheticEvent} event The react `SyntheticEvent`.\n\t */\n\tonSave: PropTypes.func\n}\n\nexport default DropzoneDialog\n"],"names":["isImage","file","type","split","convertBytesToMbsOrKbs","filesize","size","createFileFromUrl","url","fetch","response","blob","data","metadata","filename","replace","pop","File","readFile","Promise","resolve","reject","reader","FileReader","onload","event","target","result","onerror","abort","readAsDataURL","useFiles","onChange","clearOnUnmount","initialFiles","filesLimit","onDelete","useState","fileObjects","setFileObjects","loadInitialFiles","useCallback","all","map","initialFile","fileObjs","prev","console","log","handleAddFiles","newFileObjects","handleDeleteFile","removedFileObj","removedFileObjIdx","remainingFileObjs","filter","fileObject","i","handleResetFiles","useEffect","useSnackbar","onAlert","open","message","variant","state","setState","sendMessage","handleCloseSnackbar","snackbarMessage","snackbarOpen","snackbarVariant","useWidth","theme","useTheme","keys","breakpoints","reverse","reduce","output","key","matches","useMediaQuery","up","useColumns","getCols","numberOfFileObjects","numberOfColumns","setCols","width","cols","useStyles","makeStyles","spacing","root","alignItems","position","height","margin","backgroundColor","icon","color","iconWrapper","imageContainer","zIndex","textAlign","opacity","fileIcon","flexGrow","marginTop","fileIconBottom","name","PreviewList","handleRemove","showFileNames","useChipsForPreview","previewChipProps","previewGridClasses","previewGridProps","previewType","getPreviewIcon","handlePreviewClick","classes","length","previewInside","React","Grid","container","clsx","item","Chip","GridList","gridList","fileTitle","isImageCheck","GridListTile","gridListTile","gridListTitle","gridListTitleBar","titlePosition","GridListTileBar","IconButton","removeIconButton","DeleteIcon","propTypes","PropTypes","arrayOf","object","isRequired","number","func","string","bool","variantIcon","success","CheckCircleIcon","warning","WarningIcon","error","ErrorIcon","info","InfoIcon","successAlert","palette","main","errorAlert","infoAlert","warningAlert","display","marginRight","fontSize","closeButton","SnackbarContentWrapper","className","onClose","other","Icon","SnackbarContent","CloseIcon","node","oneOf","shape","backgroundPosition","minHeight","background","paper","border","borderColor","divider","borderRadius","boxSizing","cursor","overflow","flexDirection","justifyContent","active","animation","backgroundImage","backgroundSize","primary","light","invalid","dark","textContainer","text","marginBottom","shouldShowAlert","enabledAlerts","alertVariant","Array","isArray","includes","defaultGetCols","returnBelowLimit","defaultSnackbarAnchorOrigin","horizontal","vertical","defaultGetPreviewIcon","titleBarTop","image","AttachFileIcon","DropzoneAreaBase","getFileAddedMessage","getFileLimitExceedMessage","getFileRemovedMessage","getDropRejectMessage","onAdd","onDrop","onDropRejected","onPreviewClick","acceptedFiles","alertSnackbarProps","disableRejectionFeedback","dropzoneClass","dropzoneParagraphClass","dropzoneProps","dropzoneText","inputProps","maxFileSize","previewText","showAlerts","handleDropAccepted","droppedFiles","evt","successMessage","msg","fileObj","handleDropRejected","rejectedFiles","forEach","rejectedFile","fileIndex","stopPropagation","previewedFileObj","acceptFiles","join","isMultiple","someFiles","alertsEnabled","isAlertOpen","Dropzone","getRootProps","getInputProps","isDragActive","isDragReject","Typography","CloudUploadIcon","Snackbar","defaultProps","anchorOrigin","autoHideDuration","fileName","FileObjectShape","any","elementType","oneOfType","DropzoneArea","dropzoneAreaBaseProps","DropzoneDialogBase","cancelButtonText","dialogProps","dialogTitle","fullWidth","maxWidth","onSave","submitButtonText","dropzoneAreaProps","submitDisabled","Dialog","DialogTitle","DialogContent","DialogActions","Button","showPreviews","showPreviewsInDropzone","showFileNamesInPreview","element","DropzoneDialog","handleClose","handleSave"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAO,SAASA,OAAT,CAAiBC,IAAjB,EAAuB;AAC7B,MAAIA,IAAI,CAACC,IAAL,CAAUC,KAAV,CAAgB,GAAhB,EAAqB,CAArB,MAA4B,OAAhC,EAAyC;AACxC,WAAO,IAAP;AACA;;AACD,SAAO,KAAP;AACA;AAEM,SAASC,sBAAT,CAAgCC,QAAhC,EAA0C;AAChD,MAAIC,IAAI,GAAG,EAAX;;AACA,MAAID,QAAQ,IAAI,OAAhB,EAAyB;AACxBC,IAAAA,IAAI,GAAGD,QAAQ,GAAG,OAAX,GAAqB,YAA5B;AACA,GAFD,MAEO,IAAIA,QAAQ,IAAI,IAAhB,EAAsB;AAC5BC,IAAAA,IAAI,GAAGD,QAAQ,GAAG,IAAX,GAAkB,YAAzB;AACA,GAFM,MAEA;AACNC,IAAAA,IAAI,GAAGD,QAAQ,GAAG,QAAlB;AACA;;AAED,SAAOC,IAAP;AACA;SAEqBC,iBAAtB;AAAA;AAAA;;;wHAAO,iBAAiCC,GAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACiBC,KAAK,CAACD,GAAD,CADtB;;AAAA;AACAE,YAAAA,QADA;AAAA;AAAA,mBAEaA,QAAQ,CAACC,IAAT,EAFb;;AAAA;AAEAC,YAAAA,IAFA;AAGAC,YAAAA,QAHA,GAGW;AAAEX,cAAAA,IAAI,EAAEU,IAAI,CAACV;AAAb,aAHX;AAIAY,YAAAA,QAJA,GAIWN,GAAG,CAACO,OAAJ,CAAY,MAAZ,EAAoB,EAApB,EAAwBZ,KAAxB,CAA8B,GAA9B,EAAmCa,GAAnC,EAJX;AAAA,6CAMC,IAAIC,IAAJ,CAAS,CAACL,IAAD,CAAT,EAAiBE,QAAjB,EAA2BD,QAA3B,CAND;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;AASA,SAASK,QAAT,CAAkBjB,IAAlB,EAAwB;AAC9B,SAAO,IAAIkB,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACvC,QAAMC,MAAM,GAAG,IAAIC,UAAJ,EAAf;;AAEAD,IAAAA,MAAM,CAACE,MAAP,GAAgB,UAACC,KAAD,EAAW;AAAA;;AAC1BL,MAAAA,OAAO,CAACK,KAAD,qCAACA,KAAK,CAAEC,MAAR,qBAAC,cAAeC,MAAhB,CAAP;AACA,KAFD;;AAGAL,IAAAA,MAAM,CAACM,OAAP,GAAiB,UAACH,KAAD,EAAW;AAC3BH,MAAAA,MAAM,CAACO,KAAP;AACAR,MAAAA,MAAM,CAACI,KAAD,CAAN;AACA,KAHD;;AAIAH,IAAAA,MAAM,CAACQ,aAAP,CAAqB7B,IAArB;AACA,GAXM,CAAP;AAYA;;ACtCD;AACA;AACA;;AACA,IAAM8B,QAAQ,GAAG,SAAXA,QAAW,OAMX;AAAA,MALLC,QAKK,QALLA,QAKK;AAAA,MAJLC,cAIK,QAJLA,cAIK;AAAA,MAHLC,YAGK,QAHLA,YAGK;AAAA,MAFLC,UAEK,QAFLA,UAEK;AAAA,MADLC,QACK,QADLA,QACK;;AACL,kBAAsCC,cAAQ,CAAC,EAAD,CAA9C;AAAA,MAAOC,WAAP;AAAA,MAAoBC,cAApB;;AAEA,MAAMC,gBAAgB,GAAGC,iBAAW,gHAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEZtB,OAAO,CAACuB,GAAR,CACtBR,YAAY,CAACS,GAAb;AAAA,2HAAiB,iBAAOC,WAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAEZ,OAAOA,WAAP,KAAuB,QAFX;AAAA;AAAA;AAAA;;AAAA;AAAA,+BAGFrC,iBAAiB,CAACqC,WAAD,CAHf;;AAAA;AAGf3C,wBAAAA,IAHe;AAAA;AAAA;;AAAA;AAKfA,wBAAAA,IAAI,GAAG2C,WAAP;;AALe;AAAA;AAAA,+BAOG1B,QAAQ,CAACjB,IAAD,CAPX;;AAAA;AAOVW,wBAAAA,IAPU;AAAA,yDAST;AACNX,0BAAAA,IAAI,EAAJA,IADM;AAENW,0BAAAA,IAAI,EAAJA;AAFM,yBATS;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAjB;;AAAA;AAAA;AAAA;AAAA,gBADsB,CAFY;;AAAA;AAE7BiC,YAAAA,QAF6B;AAmBnCN,YAAAA,cAAc,CAAC,UAACO,IAAD;AAAA,+BAAcA,IAAd,EAAuBD,QAAvB;AAAA,aAAD,CAAd;AAnBmC;AAAA;;AAAA;AAAA;AAAA;AAqBnCE,YAAAA,OAAO,CAACC,GAAR;;AArBmC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAD,IAuBjC,CAACd,YAAD,CAvBiC,CAApC;AAyBA,MAAMe,cAAc,GAAGR,iBAAW,CACjC,UAACS,cAAD,EAAoB;AACnB;AACAX,IAAAA,cAAc,CAAC,UAACO,IAAD,EAAU;AACxB,UAAIX,UAAU,IAAI,CAAlB,EAAqB;AACpB,eAAO,CAACe,cAAc,CAAC,CAAD,CAAf,CAAP;AACA;;AAED,uBAAWJ,IAAX,EAAoBI,cAApB;AACA,KANa,CAAd;AAOA,GAVgC,EAWjC,CAACf,UAAD,CAXiC,CAAlC;AAcA,MAAMgB,gBAAgB,GAAGV,iBAAW,CACnC,UAACW,cAAD,EAAiBC,iBAAjB,EAAuC;AACtC;AACA,QAAMC,iBAAiB,GAAGhB,WAAW,CAACiB,MAAZ,CAAmB,UAACC,UAAD,EAAaC,CAAb,EAAmB;AAC/D,aAAOA,CAAC,KAAKJ,iBAAb;AACA,KAFyB,CAA1B,CAFsC;;AAOtC,QAAIjB,QAAJ,EAAc;AACbA,MAAAA,QAAQ,CAACgB,cAAc,CAACnD,IAAhB,CAAR;AACA,KATqC;;;AAYtCsC,IAAAA,cAAc,CAACe,iBAAD,CAAd;AACA,GAdkC,EAenC,CAAClB,QAAD,EAAWE,WAAX,CAfmC,CAApC;;AAkBA,MAAMoB,gBAAgB,GAAG,SAAnBA,gBAAmB;AAAA,WAAMnB,cAAc,CAAC,EAAD,CAApB;AAAA,GAAzB,CA5DK;;;AA+DLoB,EAAAA,eAAS,CAAC,YAAM;AACf,QAAI3B,QAAJ,EAAc;AACbA,MAAAA,QAAQ,CAACM,WAAW,CAACK,GAAZ,CAAgB,UAACa,UAAD;AAAA,eAAgBA,UAAU,CAACvD,IAA3B;AAAA,OAAhB,CAAD,CAAR;AACA;AACD,GAJQ,EAIN,CAACqC,WAAD,EAAcN,QAAd,CAJM,CAAT,CA/DK;;AAsEL2B,EAAAA,eAAS,CAAC,YAAM;AACfnB,IAAAA,gBAAgB;AAEhB,WAAO,YAAM;AACZ,UAAIP,cAAJ,EAAoB;AACnBM,QAAAA,cAAc,CAAC,EAAD,CAAd;AACA;AACD,KAJD;AAKA,GARQ,EAQN,CAACN,cAAD,EAAiBO,gBAAjB,CARM,CAAT;AAUA,SAAO;AACNF,IAAAA,WAAW,EAAXA,WADM;AAENW,IAAAA,cAAc,EAAdA,cAFM;AAGNE,IAAAA,gBAAgB,EAAhBA,gBAHM;AAINO,IAAAA,gBAAgB,EAAhBA;AAJM,GAAP;AAMA,CA5FD;;ACLA;AACA;AACA;;AACA,IAAME,WAAW,GAAG,SAAdA,WAAc,CAACC,OAAD,EAAa;AAChC,kBAA0BxB,cAAQ,CAAC;AAClCyB,IAAAA,IAAI,EAAE,KAD4B;AAElCC,IAAAA,OAAO,EAAE,EAFyB;AAGlCC,IAAAA,OAAO,EAAE;AAHyB,GAAD,CAAlC;AAAA,MAAOC,KAAP;AAAA,MAAcC,QAAd;;AAMA,MAAMC,WAAW,GAAG1B,iBAAW,CAC9B,UAACsB,OAAD,EAAUC,OAAV,EAAsB;AACrBE,IAAAA,QAAQ,CAAC;AACRJ,MAAAA,IAAI,EAAE,IADE;AAERC,MAAAA,OAAO,EAAPA,OAFQ;AAGRC,MAAAA,OAAO,EAAPA;AAHQ,KAAD,CAAR;;AAMA,QAAIH,OAAJ,EAAa;AACZA,MAAAA,OAAO,CAACE,OAAD,EAAUC,OAAV,CAAP;AACA;AACD,GAX6B,EAY9B,CAACH,OAAD,CAZ8B,CAA/B;AAeA,MAAMO,mBAAmB,GAAG3B,iBAAW,CAAC,YAAM;AAC7CyB,IAAAA,QAAQ,CAAC,UAACpB,IAAD;AAAA,8CAAgBA,IAAhB;AAAsBgB,QAAAA,IAAI,EAAE;AAA5B;AAAA,KAAD,CAAR;AACA,GAFsC,EAEpC,EAFoC,CAAvC;AAIA,SAAO;AACNM,IAAAA,mBAAmB,EAAnBA,mBADM;AAEND,IAAAA,WAAW,EAAXA,WAFM;AAGNE,IAAAA,eAAe,EAAEJ,KAAK,CAACF,OAHjB;AAINO,IAAAA,YAAY,EAAEL,KAAK,CAACH,IAJd;AAKNS,IAAAA,eAAe,EAAEN,KAAK,CAACD;AALjB,GAAP;AAOA,CAjCD;;ACFA;AACA;AACA;AACA;;AACA,IAAMQ,QAAQ,GAAG,SAAXA,QAAW,GAAM;AACtB,MAAMC,KAAK,GAAGC,eAAQ,EAAtB;AACA,MAAMC,IAAI,GAAG,UAAIF,KAAK,CAACG,WAAN,CAAkBD,IAAtB,EAA4BE,OAA5B,EAAb;AAEA,SACCF,IAAI,CAACG,MAAL,CAAY,UAACC,MAAD,EAASC,GAAT,EAAiB;AAC5B;AACA,QAAMC,OAAO,GAAGC,kBAAa,CAACT,KAAK,CAACG,WAAN,CAAkBO,EAAlB,CAAqBH,GAArB,CAAD,CAA7B;AACA,WAAO,CAACD,MAAD,IAAWE,OAAX,GAAqBD,GAArB,GAA2BD,MAAlC;AACA,GAJD,EAIG,IAJH,KAIY,IALb;AAOA,CAXD;;ACHA;AACA;AACA;AACA;AACA;;AACA,IAAMK,UAAU,GAAG,SAAbA,UAAa,CAACC,OAAD,EAAUlD,UAAV,EAAsBmD,mBAAtB,EAA8C;AAChE,kBAAmCjD,cAAQ,CAAC,CAAD,CAA3C;AAAA,MAAOkD,eAAP;AAAA,MAAwBC,OAAxB;;AACA,MAAMC,KAAK,GAAGjB,QAAQ,EAAtB;AAEAb,EAAAA,eAAS,CAAC,YAAM;AACf,QAAM+B,IAAI,GAAGL,OAAO,CAACI,KAAD,EAAQtD,UAAR,EAAoBmD,mBAApB,CAApB;AACAE,IAAAA,OAAO,CAACE,IAAD,CAAP;AACA,GAHQ,EAGN,CAACvD,UAAD,EAAakD,OAAb,EAAsBC,mBAAtB,EAA2CG,KAA3C,CAHM,CAAT;AAKA,SAAOF,eAAP;AACA,CAVD;;;ACQA,IAAMI,WAAS,GAAGC,iBAAU,CAC3B;AAAA,MAAGC,OAAH,QAAGA,OAAH;AAAA,SAAkB;AACjBC,IAAAA,IAAI,EAAE;AACLC,MAAAA,UAAU,EAAE,QADP;AAELC,MAAAA,QAAQ,EAAE,UAFL;AAGLP,MAAAA,KAAK,EAAE,MAHF;AAILQ,MAAAA,MAAM,EAAE,MAJH;AAKLC,MAAAA,MAAM,EAAE,CALH;AAMLC,MAAAA,eAAe,EAAE;AANZ,KADW;AASjBC,IAAAA,IAAI,EAAE;AACLC,MAAAA,KAAK,EAAE;AADF,KATW;AAYjBC,IAAAA,WAAW,EAAE;AACZL,MAAAA,MAAM,EAAE,MADI;AAEZE,MAAAA,eAAe,EAAE;AAFL,KAZI;AAgBjBI,IAAAA,cAAc,EAAE;AACfP,MAAAA,QAAQ,EAAE,UADK;AAEfQ,MAAAA,MAAM,EAAE,EAFO;AAGfC,MAAAA,SAAS,EAAE,QAHI;AAIf,wBAAkB;AACjBC,QAAAA,OAAO,EAAE;AADQ,OAJH;AAOf,+BAAyB;AACxBA,QAAAA,OAAO,EAAE;AADe;AAPV,KAhBC;AA2BjBC,IAAAA,QAAQ,EAAE;AACTC,MAAAA,QAAQ,EAAE,CADD;AAETX,MAAAA,MAAM,EAAE,KAFC;AAGTY,MAAAA,SAAS,EAAEhB,OAAO,CAAC,CAAD;AAHT,KA3BO;AAgCjBiB,IAAAA,cAAc,EAAE;AACfD,MAAAA,SAAS,EAAEhB,OAAO,CAAC,CAAD;AADH;AAhCC,GAAlB;AAAA,CAD2B,EAqC3B;AAAEkB,EAAAA,IAAI,EAAE;AAAR,CArC2B,CAA5B;;AAwCA,IAAMC,WAAW,GAAG,SAAdA,WAAc,QAad;AAAA,MAZL1E,WAYK,SAZLA,WAYK;AAAA,MAXLH,UAWK,SAXLA,UAWK;AAAA,MAVLkD,OAUK,SAVLA,OAUK;AAAA,MATL4B,YASK,SATLA,YASK;AAAA,MARLC,aAQK,SARLA,aAQK;AAAA,MAPLC,kBAOK,SAPLA,kBAOK;AAAA,MANLC,gBAMK,SANLA,gBAMK;AAAA,MALLC,kBAKK,SALLA,kBAKK;AAAA,MAJLC,gBAIK,SAJLA,gBAIK;AAAA,MAHLC,WAGK,SAHLA,WAGK;AAAA,MAFLC,cAEK,SAFLA,cAEK;AAAA,MADLC,kBACK,SADLA,kBACK;AACL,MAAMC,OAAO,GAAG/B,WAAS,EAAzB;AACA,MAAMD,IAAI,GAAGN,UAAU,CAACC,OAAD,EAAUlD,UAAV,EAAsBG,WAAW,CAACqF,MAAlC,CAAvB;AACA,MAAMC,aAAa,GAAGL,WAAW,KAAK,QAAtC;;AAEA,MAAIJ,kBAAJ,EAAwB;AACvB,wBACCU,+BAACC,SAAD;AACC,MAAA,OAAO,EAAE,CADV;AAEC,MAAA,SAAS,EAAC;AAFX,OAGKR,gBAAgB,CAACS,SAHtB;AAIC,MAAA,SAAS,EAAE,IAJZ;AAKC,MAAA,SAAS,EAAEC,wBAAI,CAACN,OAAO,CAAC5B,IAAT,EAAeuB,kBAAkB,CAACU,SAAlC;AALhB,QAOEzF,WAAW,CAACK,GAAZ,CAAgB,UAACa,UAAD,EAAaC,CAAb,EAAmB;AAAA;;AACnC,0BACCoE,+BAACC,SAAD,mCACKR,gBAAgB,CAACW,IADtB;AAEC,QAAA,IAAI,EAAE,IAFP;AAGC,QAAA,GAAG,gDAAKzE,UAAU,CAACvD,IAAhB,qBAAK,iBAAiB8G,IAAtB,oCAA8B,MAA9B,UAAwCtD,CAH5C;AAIC,QAAA,SAAS,EAAEiE,OAAO,CAACnB;AAJpB,uBAMCsB,+BAACK,SAAD;AACC,QAAA,OAAO,EAAC;AADT,SAEKd,gBAFL;AAGC,QAAA,KAAK,EAAE5D,UAAU,CAACvD,IAAX,CAAgB8G,IAHxB;AAIC,QAAA,QAAQ,EAAEE,YAAY,CAACxD,CAAD;AAJvB,SAND,CADD;AAeA,KAhBA,CAPF,CADD;AA2BA;;AAED,sBACCoE,+BAACM,aAAD;AACC,IAAA,IAAI,EAAEzC,IADP;AAEC,IAAA,SAAS,EAAEsC,wBAAI,CAEdX,kBAAkB,CAACU,SAFL,EACIH,aADJ,IACXF,OAAO,CAAC5B,IADG;AAFhB,KAMKwB,gBANL,oBAMKA,gBAAgB,CAAEc,QANvB,GAQE9F,WAAW,CAACK,GAAZ,CAAgB,UAACa,UAAD,EAAaC,CAAb,EAAmB;AAAA;;AACnC,QAAM4E,SAAS,GAAGnB,aAAa,0BAAI1D,UAAU,CAACvD,IAAf,qBAAI,kBAAiB8G,IAArB,CAA/B;AACA,QAAM/G,SAAO,GAAGsI,OAAY,CAAC9E,UAAU,CAACvD,IAAZ,CAA5B;AAEA,wBACC4H,+BAACU,iBAAD;AACC,MAAA,GAAG,kDAAK/E,UAAU,CAACvD,IAAhB,qBAAK,kBAAiB8G,IAAtB,qCAA8B,MAA9B,UAAwCtD,CAD5C;AAEC,MAAA,SAAS,EAAEuE,wBAAI,CAACX,kBAAkB,CAACmB,YAApB,EACS,CAACxI,SADV,IACb0H,OAAO,CAACpB,WADK,CAFhB;AAKC,MAAA,OAAO,EAAEmB,kBAAkB,CAAChE,CAAD,CAL5B;AAMC,MAAA,SAAS,EAAEgE,kBAAkB,CAAChE,CAAD;AAN9B,OAOK6D,gBAPL,oBAOKA,gBAAgB,CAAEmB,aAPvB,GASEjB,cAAc,CACdhE,UADc,EAEdkE,OAFc,EAGd1H,SAHc,EAId,CAAAsH,gBAAgB,QAAhB,qCAAAA,gBAAgB,CAAEoB,gBAAlB,2CAAoCC,aAApC,MAAsD,KAJxC,CAThB,eAgBCd,+BAACe,oBAAD;AACC,MAAA,KAAK,EAAEP,SADR;AAEC,MAAA,UAAU,eACTR,+BAACgB,eAAD;AACC,QAAA,OAAO,EAAE5B,YAAY,CAACxD,CAAD,CADtB;AAEC,sBAAW,QAFZ;AAGC,QAAA,SAAS,EAAEuE,wBAAI,CACdX,kBAAkB,CAACyB,gBADL,EAEdpB,OAAO,CAACtB,IAFM;AAHhB,oDAQCyB,+BAACkB,YAAD,OARD;AAHF,OAcKzB,gBAdL,oBAcKA,gBAAgB,CAAEoB,gBAdvB,EAhBD,CADD;AAmCA,GAvCA,CARF,CADD;AAmDA,CAnGD;;AAqGA,wCAAA1B,WAAW,CAACgC,SAAZ,GAAwB;AACvB1G,EAAAA,WAAW,EAAE2G,6BAAS,CAACC,OAAV,CAAkBD,6BAAS,CAACE,MAA5B,EAAoCC,UAD1B;AAEvBjH,EAAAA,UAAU,EAAE8G,6BAAS,CAACI,MAAV,CAAiBD,UAFN;AAGvB/D,EAAAA,OAAO,EAAE4D,6BAAS,CAACK,IAAV,CAAeF,UAHD;AAIvB5B,EAAAA,cAAc,EAAEyB,6BAAS,CAACK,IAAV,CAAeF,UAJR;AAKvBnC,EAAAA,YAAY,EAAEgC,6BAAS,CAACK,IAAV,CAAeF,UALN;AAMvB3B,EAAAA,kBAAkB,EAAEwB,6BAAS,CAACK,IAAV,CAAeF,UANZ;AAOvBhC,EAAAA,gBAAgB,EAAE6B,6BAAS,CAACE,MAPL;AAQvB9B,EAAAA,kBAAkB,EAAE4B,6BAAS,CAACE,MARP;AASvB7B,EAAAA,gBAAgB,EAAE2B,6BAAS,CAACE,MATL;AAUvB5B,EAAAA,WAAW,EAAE0B,6BAAS,CAACM,MAAV,CAAiBH,UAVP;AAWvBlC,EAAAA,aAAa,EAAE+B,6BAAS,CAACO,IAXF;AAYvBrC,EAAAA,kBAAkB,EAAE8B,6BAAS,CAACO;AAZP,CAAxB;;;ACjJA,IAAMC,WAAW,GAAG;AACnBC,EAAAA,OAAO,EAAEC,iBADU;AAEnBC,EAAAA,OAAO,EAAEC,aAFU;AAGnBC,EAAAA,KAAK,EAAEC,WAHY;AAInBC,EAAAA,IAAI,EAAEC;AAJa,CAApB;AAOA,IAAMtE,WAAS,GAAGC,iBAAU,CAC3B,UAACnB,KAAD;AAAA,SAAY;AACXyF,IAAAA,YAAY,EAAE;AACb/D,MAAAA,eAAe,EAAE1B,KAAK,CAAC0F,OAAN,CAAcT,OAAd,CAAsBU;AAD1B,KADH;AAIXC,IAAAA,UAAU,EAAE;AACXlE,MAAAA,eAAe,EAAE1B,KAAK,CAAC0F,OAAN,CAAcL,KAAd,CAAoBM;AAD1B,KAJD;AAOXE,IAAAA,SAAS,EAAE;AACVnE,MAAAA,eAAe,EAAE1B,KAAK,CAAC0F,OAAN,CAAcH,IAAd,CAAmBI;AAD1B,KAPA;AAUXG,IAAAA,YAAY,EAAE;AACbpE,MAAAA,eAAe,EAAE1B,KAAK,CAAC0F,OAAN,CAAcP,OAAd,CAAsBQ;AAD1B,KAVH;AAaXrG,IAAAA,OAAO,EAAE;AACRyG,MAAAA,OAAO,EAAE,MADD;AAERzE,MAAAA,UAAU,EAAE,QAFJ;AAGR,iBAAW;AACV0E,QAAAA,WAAW,EAAEhG,KAAK,CAACoB,OAAN,CAAc,CAAd;AADH;AAHH,KAbE;AAoBXO,IAAAA,IAAI,EAAE;AACLsE,MAAAA,QAAQ,EAAE,EADL;AAELhE,MAAAA,OAAO,EAAE;AAFJ,KApBK;AAwBXiE,IAAAA,WAAW,EAAE;AAxBF,GAAZ;AAAA,CAD2B,EA2B3B;AAAE5D,EAAAA,IAAI,EAAE;AAAR,CA3B2B,CAA5B;;AA8BA,SAAS6D,sBAAT,OAMG;AAAA,4BALFC,SAKE;AAAA,MALFA,SAKE,+BALU,EAKV;AAAA,MAJF9G,OAIE,QAJFA,OAIE;AAAA,MAHF+G,OAGE,QAHFA,OAGE;AAAA,MAFF9G,OAEE,QAFFA,OAEE;AAAA,MADC+G,KACD;;AACF,MAAMrD,OAAO,GAAG/B,WAAS,EAAzB;AACA,MAAMqF,IAAI,GAAGvB,WAAW,CAACzF,OAAD,CAAxB;AAEA,sBACC6D,+BAACoD,oBAAD;AACC,IAAA,SAAS,EAAEjD,wBAAI,CAACN,OAAO,CAAI1D,OAAJ,WAAR,EAA6B6G,SAA7B,CADhB;AAEC,wBAAiB,iBAFlB;AAGC,IAAA,OAAO,eACNhD;AAAM,MAAA,EAAE,EAAC,iBAAT;AAA2B,MAAA,SAAS,EAAEH,OAAO,CAAC3D;AAA9C,oBACC8D,+BAAC,IAAD;AAAM,MAAA,SAAS,EAAEH,OAAO,CAACtB;AAAzB,MADD,EAEErC,OAFF,CAJF;AASC,IAAA,MAAM,EAAE,cACP8D,+BAACgB,eAAD;AACC,MAAA,GAAG,EAAC,OADL;AAEC,oBAAW,OAFZ;AAGC,MAAA,KAAK,EAAC,SAHP;AAIC,MAAA,SAAS,EAAEnB,OAAO,CAACiD,WAJpB;AAKC,MAAA,OAAO,EAAEG;AALV,oBAOCjD,+BAACqD,WAAD;AAAW,MAAA,SAAS,EAAExD,OAAO,CAACtB;AAA9B,MAPD,CADO;AATT,KAoBK2E,KApBL,EADD;AAwBA;;AAED,wCAAAH,sBAAsB,CAAC5B,SAAvB,GAAmC;AAClC6B,EAAAA,SAAS,EAAE5B,6BAAS,CAACM,MADa;AAElCxF,EAAAA,OAAO,EAAEkF,6BAAS,CAACkC,IAFe;AAGlCL,EAAAA,OAAO,EAAE7B,6BAAS,CAACK,IAHe;AAIlCtF,EAAAA,OAAO,EAAEiF,6BAAS,CAACmC,KAAV,CAAgB,CAAC,SAAD,EAAY,SAAZ,EAAuB,OAAvB,EAAgC,MAAhC,CAAhB,EAAyDhC;AAJhC,CAAnC;;ACrEA,IAAMzD,SAAS,GAAGC,iBAAU,CAC3B;AAAA,MAAGC,OAAH,QAAGA,OAAH;AAAA,MAAYsE,OAAZ,QAAYA,OAAZ;AAAA,MAAqBkB,KAArB,QAAqBA,KAArB;AAAA,SAAkC;AACjC,2BAAuB;AACtB,YAAM;AACLC,QAAAA,kBAAkB,EAAE;AADf,OADgB;AAItB,cAAQ;AACPA,QAAAA,kBAAkB,EAAE;AADb;AAJc,KADU;AASjCxF,IAAAA,IAAI,EAAE;AACL0E,MAAAA,OAAO,EAAE,MADJ;AAELxE,MAAAA,QAAQ,EAAE,UAFL;AAGLP,MAAAA,KAAK,EAAE,MAHF;AAIL8F,MAAAA,SAAS,EAAE,OAJN;AAKLpF,MAAAA,eAAe,EAAEgE,OAAO,CAACqB,UAAR,CAAmBC,KAL/B;AAMLC,MAAAA,MAAM,EAAE,QANH;AAOLC,MAAAA,WAAW,EAAExB,OAAO,CAACyB,OAPhB;AAQLC,MAAAA,YAAY,EAAER,KAAK,CAACQ,YARf;AASLC,MAAAA,SAAS,EAAE,YATN;AAULC,MAAAA,MAAM,EAAE,SAVH;AAWLC,MAAAA,QAAQ,EAAE,QAXL;AAYLC,MAAAA,aAAa,EAAE,QAZV;AAaLC,MAAAA,cAAc,EAAE;AAbX,KAT2B;AAwBjCC,IAAAA,MAAM,EAAE;AACPC,MAAAA,SAAS,EAAE,yCADJ;AAEPC,MAAAA,eAAe,kDACZlC,OAAO,CAACqB,UAAR,CAAmBC,KADP,mBAEZtB,OAAO,CAACqB,UAAR,CAAmBC,KAFP,wBAGZtB,OAAO,CAACyB,OAHI,wBAIZzB,OAAO,CAACyB,OAJI,WAFR;AAOPU,MAAAA,cAAc,EAAE,WAPT;AAQPZ,MAAAA,MAAM,EAAE,OARD;AASPC,MAAAA,WAAW,EAAExB,OAAO,CAACoC,OAAR,CAAgBC;AATtB,KAxByB;AAmCjCC,IAAAA,OAAO,EAAE;AACRJ,MAAAA,eAAe,kDACZlC,OAAO,CAACL,KAAR,CAAc0C,KADF,mBAEZrC,OAAO,CAACL,KAAR,CAAc0C,KAFF,wBAGZrC,OAAO,CAACL,KAAR,CAAc4C,IAHF,wBAIZvC,OAAO,CAACL,KAAR,CAAc4C,IAJF,WADP;AAMRf,MAAAA,WAAW,EAAExB,OAAO,CAACL,KAAR,CAAcM;AANnB,KAnCwB;AA2CjCuC,IAAAA,aAAa,EAAE;AACdnC,MAAAA,OAAO,EAAE;AADK,KA3CkB;AA8CjCoC,IAAAA,IAAI,EAAE;AACLC,MAAAA,YAAY,EAAEhH,OAAO,CAAC,CAAD,CADhB;AAELgB,MAAAA,SAAS,EAAEhB,OAAO,CAAC,CAAD;AAFb,KA9C2B;AAkDjCO,IAAAA,IAAI,EAAE;AACLX,MAAAA,KAAK,EAAE,EADF;AAELQ,MAAAA,MAAM,EAAE,EAFH;AAGLI,MAAAA,KAAK,EAAE8D,OAAO,CAACyC,IAAR,CAAaL;AAHf;AAlD2B,GAAlC;AAAA,CAD2B,EAyD3B;AAAExF,EAAAA,IAAI,EAAE;AAAR,CAzD2B,CAA5B;;AA4DA,IAAM+F,eAAe,GAAG,SAAlBA,eAAkB,CAACC,aAAD,EAAgBC,YAAhB,EAAiC;AACxD,MAAI,CAACC,KAAK,CAACC,OAAN,CAAcH,aAAd,CAAL,EAAmC;AAClC,WAAO,IAAP;AACA;;AAED,SAAOA,aAAa,CAACI,QAAd,CAAuBH,YAAvB,CAAP;AACA,CAND;;AAQA,IAAMI,cAAc,GAAG,SAAjBA,cAAiB,CAAC3H,KAAD,EAAQtD,UAAR,EAAuB;AAC7C,MAAMkL,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAChE,MAAD,EAAY;AACpC,QAAIA,MAAM,GAAGlH,UAAb,EAAyB;AACxB,aAAOkH,MAAP;AACA;;AAED,WAAOlH,UAAP;AACA,GAND;;AAQA,UAAQsD,KAAR;AACC,SAAK,IAAL;AACC,aAAO4H,gBAAgB,CAAC,CAAD,CAAvB;;AACD,SAAK,IAAL;AACC,aAAOA,gBAAgB,CAAC,CAAD,CAAvB;;AACD,SAAK,IAAL;AACC,aAAOA,gBAAgB,CAAC,CAAD,CAAvB;;AACD,SAAK,IAAL;AACC,aAAOA,gBAAgB,CAAC,CAAD,CAAvB;;AACD,SAAK,IAAL;AACC,aAAOA,gBAAgB,CAAC,CAAD,CAAvB;;AACD;AACC,aAAOA,gBAAgB,CAAC,CAAD,CAAvB;AAZF;AAcA,CAvBD;;AAyBA,IAAMC,2BAA2B,GAAG;AACnCC,EAAAA,UAAU,EAAE,MADuB;AAEnCC,EAAAA,QAAQ,EAAE;AAFyB,CAApC;;AAKA,IAAMC,qBAAqB,GAAG,SAAxBA,qBAAwB,CAACjK,UAAD,EAAakE,OAAb,EAAsB1H,OAAtB,EAA+B0N,WAA/B,EAA+C;AAC5E,MAAI1N,OAAJ,EAAa;AACZ,wBAAO6H;AAAK,MAAA,GAAG,EAAC,EAAT;AAAY,MAAA,SAAS,EAAEH,OAAO,CAACiG,KAA/B;AAAsC,MAAA,GAAG,EAAEnK,UAAU,CAAC5C;AAAtD,MAAP;AACA;;AAED,sBACCiH,+BAACC,SAAD;AAAM,IAAA,SAAS,MAAf;AAAgB,IAAA,SAAS,EAAEJ,OAAO,CAACpB,WAAnC;AAAgD,IAAA,OAAO,EAAC;AAAxD,kBACCuB,+BAAC+F,gBAAD;AACC,IAAA,SAAS,EAAE5F,wBAAI,CAACN,OAAO,CAACf,QAAT,EACY+G,WADZ,IACbhG,OAAO,CAACZ,cADK;AADhB,IADD,CADD;AASA,CAdD;AAgBA;AACA;AACA;;;IACM+G,gBAAgB,GAAG,SAAnBA,gBAAmB,QAiCnB;AAAA;;AAAA,MAhCLvL,WAgCK,SAhCLA,WAgCK;AAAA,MA/BLH,UA+BK,SA/BLA,UA+BK;AAAA,MA9BL2L,mBA8BK,SA9BLA,mBA8BK;AAAA,MA7BLC,yBA6BK,SA7BLA,yBA6BK;AAAA,MA5BLC,qBA4BK,SA5BLA,qBA4BK;AAAA,MA3BLC,oBA2BK,SA3BLA,oBA2BK;AAAA,MA1BLC,KA0BK,SA1BLA,KA0BK;AAAA,MAzBLrK,OAyBK,SAzBLA,OAyBK;AAAA,MAxBLsK,MAwBK,SAxBLA,MAwBK;AAAA,MAvBLC,cAuBK,SAvBLA,cAuBK;AAAA,MAtBLhM,QAsBK,SAtBLA,QAsBK;AAAA,MArBLiM,cAqBK,SArBLA,cAqBK;AAAA,MApBLC,aAoBK,SApBLA,aAoBK;AAAA,MAnBLC,kBAmBK,SAnBLA,kBAmBK;AAAA,MAlBLC,wBAkBK,SAlBLA,wBAkBK;AAAA,MAjBLC,aAiBK,SAjBLA,aAiBK;AAAA,MAhBLC,sBAgBK,SAhBLA,sBAgBK;AAAA,MAfLC,aAeK,SAfLA,aAeK;AAAA,MAdLC,YAcK,SAdLA,YAcK;AAAA,MAbLvJ,OAaK,SAbLA,OAaK;AAAA,MAZLmC,cAYK,SAZLA,cAYK;AAAA,MAXLwD,IAWK,SAXLA,IAWK;AAAA,MAVL6D,UAUK,SAVLA,UAUK;AAAA,MATLC,WASK,SATLA,WASK;AAAA,MARL1H,gBAQK,SARLA,gBAQK;AAAA,MAPLC,kBAOK,SAPLA,kBAOK;AAAA,MANLC,gBAMK,SANLA,gBAMK;AAAA,MALLyH,WAKK,SALLA,WAKK;AAAA,MAJLxH,WAIK,SAJLA,WAIK;AAAA,MAHLyH,UAGK,SAHLA,UAGK;AAAA,MAFL9H,aAEK,SAFLA,aAEK;AAAA,MADLC,kBACK,SADLA,kBACK;AACL,MAAMO,OAAO,GAAG/B,SAAS,EAAzB;;AAEA,qBAMI/B,WAAW,CAACC,OAAD,CANf;AAAA,MACCO,mBADD,gBACCA,mBADD;AAAA,MAECD,WAFD,gBAECA,WAFD;AAAA,MAGCE,eAHD,gBAGCA,eAHD;AAAA,MAICC,YAJD,gBAICA,YAJD;AAAA,MAKCC,eALD,gBAKCA,eALD;;AAQA,MAAM0K,kBAAkB,GAAGxM,iBAAW;AAAA,iHACrC,kBAAOyM,YAAP,EAAqBC,GAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEEhN,UAAU,GAAG,CAAb,IACAG,WAAW,CAACqF,MAAZ,GAAqBuH,YAAY,CAACvH,MAAlC,GAA2CxF,UAH7C;AAAA;AAAA;AAAA;;AAKQ4B,cAAAA,OALR,GAKkBgK,yBAAyB,CAAC5L,UAAD,CAL3C;AAMEgC,cAAAA,WAAW,CAACJ,OAAD,EAAU,OAAV,CAAX;AANF;;AAAA;AAUC;AACA,kBAAIoK,MAAJ,EAAY;AACXA,gBAAAA,MAAM,CAACe,YAAD,EAAeC,GAAf,CAAN;AACA,eAbF;;;AAAA;AAAA,qBAgBwBhO,OAAO,CAACuB,GAAR,CACtBwM,YAAY,CAACvM,GAAb;AAAA,6HAAiB,iBAAO1C,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCACGiB,QAAQ,CAACjB,IAAD,CADX;;AAAA;AACVW,0BAAAA,IADU;AAAA,2DAET;AACNX,4BAAAA,IAAI,EAAJA,IADM;AAENW,4BAAAA,IAAI,EAAJA;AAFM,2BAFS;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAjB;;AAAA;AAAA;AAAA;AAAA,kBADsB,CAhBxB;;AAAA;AAgBOiC,cAAAA,QAhBP;;AA0BC;AACA,kBAAIqL,KAAJ,EAAW;AACVA,gBAAAA,KAAK,CAACrL,QAAD,CAAL;AACA;;AAEKuM,cAAAA,cA/BP,GA+BwBvM,QAAQ,CAACiC,MAAT,CACtB,UAACuK,GAAD,EAAMC,OAAN;AAAA,uBAAkBD,GAAG,GAAGvB,mBAAmB,CAACwB,OAAO,CAACrP,IAAR,CAAa8G,IAAd,CAA3C;AAAA,eADsB,EAEtB,EAFsB,CA/BxB;AAmCC5C,cAAAA,WAAW,CAACiL,cAAD,EAAiB,SAAjB,CAAX;;AAnCD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KADqC;;AAAA;AAAA;AAAA;AAAA,OAsCrC,CACCjN,UADD,EAECG,WAAW,CAACqF,MAFb,EAGCwG,MAHD,EAICD,KAJD,EAKC/J,WALD,EAMC4J,yBAND,EAOCD,mBAPD,CAtCqC,CAAtC;AAiDA,MAAMyB,kBAAkB,GAAG9M,iBAAW,CACrC,UAAC+M,aAAD,EAAgBL,GAAhB,EAAwB;AACvB,QAAIpL,OAAO,GAAG,EAAd;AACAyL,IAAAA,aAAa,CAACC,OAAd,CAAsB,UAACC,YAAD,EAAkB;AACvC3L,MAAAA,OAAO,GAAGkK,oBAAoB,CAACyB,YAAD,EAAepB,aAAf,EAA8BQ,WAA9B,CAA9B;AACA,KAFD;;AAIA,QAAIV,cAAJ,EAAoB;AACnBA,MAAAA,cAAc,CAACoB,aAAD,EAAgBL,GAAhB,CAAd;AACA;;AACDhL,IAAAA,WAAW,CAACJ,OAAD,EAAU,OAAV,CAAX;AACA,GAXoC,EAYrC,CACCuK,aADD,EAECL,oBAFD,EAGCa,WAHD,EAICV,cAJD,EAKCjK,WALD,CAZqC,CAAtC;AAqBA,MAAM8C,YAAY,GAAGxE,iBAAW,CAC/B,UAACkN,SAAD;AAAA,WAAe,UAAClO,KAAD,EAAW;AACzBA,MAAAA,KAAK,CAACmO,eAAN,GADyB;;AAIzB,UAAMxM,cAAc,GAAGd,WAAW,CAACqN,SAAD,CAAlC,CAJyB;;AAOzB,UAAIvN,QAAJ,EAAc;AACbA,QAAAA,QAAQ,CAACgB,cAAD,EAAiBuM,SAAjB,CAAR;AACA;;AAED,UAAM5L,OAAO,GAAGiK,qBAAqB,CAAC5K,cAAc,CAACnD,IAAf,CAAoB8G,IAArB,CAArC;AACA5C,MAAAA,WAAW,CAACJ,OAAD,EAAU,MAAV,CAAX;AACA,KAbD;AAAA,GAD+B,EAe/B,CAACzB,WAAD,EAAcF,QAAd,EAAwB4L,qBAAxB,EAA+C7J,WAA/C,CAf+B,CAAhC;AAkBA,MAAMsD,kBAAkB,GAAGhF,iBAAW,CACrC,UAACkN,SAAD;AAAA,WAAe,UAAClO,KAAD,EAAW;AACzBA,MAAAA,KAAK,CAACmO,eAAN,GADyB;;AAIzB,UAAMC,gBAAgB,GAAGvN,WAAW,CAACqN,SAAD,CAApC;AAEAtB,MAAAA,cAAc,CAACwB,gBAAD,EAAmBF,SAAnB,CAAd;AACA,KAPD;AAAA,GADqC,EASrC,CAACrN,WAAD,EAAc+L,cAAd,CATqC,CAAtC;AAYA,MAAMyB,WAAW,GAAGxB,aAAH,oBAAGA,aAAa,CAAEyB,IAAf,CAAoB,GAApB,CAApB;AACA,MAAMC,UAAU,GAAG7N,UAAU,GAAG,CAAhC;AACA,MAAM8N,SAAS,GAAG3N,WAAW,CAACqF,MAAZ,GAAqB,CAAvC;AAEA,MAAMuI,aAAa,GACjB,OAAOlB,UAAP,KAAsB,SAAtB,IAAmCA,UAApC,IAAmD/B,KAAK,CAACC,OAAN,CAAc8B,UAAd,CADpD;AAEA,MAAMmB,WAAW,GAChB7L,YAAY,IAAIwI,eAAe,CAACkC,UAAD,EAAazK,eAAb,CADhC;AAGA,sBACCsD,6EACCA,+BAACuI,4BAAD,mCACKzB,aADL;AAEC,IAAA,MAAM,EAAEmB,WAFT;AAGC,IAAA,cAAc,EAAEb,kBAHjB;AAIC,IAAA,cAAc,EAAEM,kBAJjB;AAKC,IAAA,OAAO,EAAET,WALV;AAMC,IAAA,QAAQ,EAAEkB;AANX,MAQE;AAAA,QAAGK,YAAH,SAAGA,YAAH;AAAA,QAAiBC,aAAjB,SAAiBA,aAAjB;AAAA,QAAgCC,YAAhC,SAAgCA,YAAhC;AAAA,QAA8CC,YAA9C,SAA8CA,YAA9C;AAAA,wBACA3I,sCACKwI,YAAY,CAAC;AAChBxF,MAAAA,SAAS,EAAE7C,wBAAI,CACdN,OAAO,CAAC5B,IADM,EAEd2I,aAFc,EAGd8B,YAHc,IAGE7I,OAAO,CAACyE,MAHV,EAId,CAACqC,wBAJa,IAIegC,YAJf,IAI+B9I,OAAO,CAAC+E,OAJvC;AADC,KAAD,CADjB,eAUC5E,wCAAWyI,aAAa,CAACzB,UAAD,CAAxB,CAVD,eAYChH,+BAACC,SAAD;AACC,MAAA,SAAS,MADV;AAEC,MAAA,SAAS,EAAEJ,OAAO,CAACiF,aAFpB;AAGC,MAAA,SAAS,EAAC,QAHX;AAIC,MAAA,OAAO,EAAC,QAJT;AAKC,MAAA,UAAU,EAAC;AALZ,oBAOC9E,+BAAC4I,eAAD;AACC,MAAA,OAAO,EAAC,IADT;AAEC,MAAA,SAAS,EAAC,GAFX;AAGC,MAAA,SAAS,EAAEzI,wBAAI,CAACN,OAAO,CAACkF,IAAT,EAAe8B,sBAAf;AAHhB,OAKEE,YALF,CAPD,EAeE5D,IAAI,gBACJnD,+BAAC,IAAD;AAAM,MAAA,SAAS,EAAEH,OAAO,CAACtB;AAAzB,MADI,gBAGJyB,+BAAC6I,iBAAD;AAAiB,MAAA,SAAS,EAAEhJ,OAAO,CAACtB;AAApC,MAlBF,CAZD,EAkCE6J,SAAS,IAAI1I,WAAW,KAAK,QAA7B,kDACAM,+BAAC,WAAD;AACC,MAAA,WAAW,EAAEvF,WADd;AAEC,MAAA,UAAU,EAAEH,UAFb;AAGC,MAAA,OAAO,EAAEkD,OAHV;AAIC,MAAA,YAAY,EAAE4B,YAJf;AAKC,MAAA,cAAc,EAAEO,cALjB;AAMC,MAAA,aAAa,EAAEN,aANhB;AAOC,MAAA,kBAAkB,EAAEC,kBAPrB;AAQC,MAAA,gBAAgB,EAAEC,gBARnB;AASC,MAAA,kBAAkB,EAAEC,kBATrB;AAUC,MAAA,gBAAgB,EAAEC,gBAVnB;AAWC,MAAA,WAAW,EAAEC,WAXd;AAYC,MAAA,kBAAkB,EAAEE;AAZrB,MADA,EAlCF,CADA;AAAA,GARF,CADD,EAgEEwI,SAAS,IAAI1I,WAAW,KAAK,OAA7B,iBACAM,6EACCA,+BAAC4I,eAAD;AAAY,IAAA,OAAO,EAAC,WAApB;AAAgC,IAAA,SAAS,EAAC;AAA1C,KACE1B,WADF,CADD,eAKClH,+BAAC,WAAD;AACC,IAAA,WAAW,EAAEvF,WADd;AAEC,IAAA,UAAU,EAAEH,UAFb;AAGC,IAAA,OAAO,EAAEkD,OAHV;AAIC,IAAA,YAAY,EAAE4B,YAJf;AAKC,IAAA,cAAc,EAAEO,cALjB;AAMC,IAAA,aAAa,EAAEN,aANhB;AAOC,IAAA,kBAAkB,EAAEC,kBAPrB;AAQC,IAAA,gBAAgB,EAAEC,gBARnB;AASC,IAAA,kBAAkB,EAAEC,kBATrB;AAUC,IAAA,gBAAgB,EAAEC,gBAVnB;AAWC,IAAA,WAAW,EAAEC,WAXd;AAYC,IAAA,kBAAkB,EAAEE;AAZrB,IALD,CAjEF,EAuFEyI,aAAa,iBACbrI,+BAAC8I,aAAD;AACC,IAAA,YAAY,EAAErD,2BADf;AAEC,IAAA,gBAAgB,EAAE;AAFnB,KAGKiB,kBAHL;AAIC,IAAA,IAAI,EAAE4B,WAJP;AAKC,IAAA,OAAO,EAAE/L;AALV,mBAOCyD,+BAAC,sBAAD;AACC,IAAA,OAAO,EAAEzD,mBADV;AAEC,IAAA,OAAO,EAAEG,eAFV;AAGC,IAAA,OAAO,EAAEF;AAHV,IAPD,CAxFF,CADD;AAyGA;;AAEDwJ,gBAAgB,CAAC+C,YAAjB,GAAgC;AAC/BtC,EAAAA,aAAa,EAAE,EADgB;AAE/BnM,EAAAA,UAAU,EAAE,CAFmB;AAG/BG,EAAAA,WAAW,EAAE,EAHkB;AAI/BwM,EAAAA,WAAW,EAAE,OAJkB;AAK/BF,EAAAA,YAAY,EAAE,oCALiB;AAM/BG,EAAAA,WAAW,EAAE,UANkB;AAO/BxH,EAAAA,WAAW,EAAE,QAPkB;AAQ/BiH,EAAAA,wBAAwB,EAAE,KARK;AAS/BtH,EAAAA,aAAa,EAAE,IATgB;AAU/BC,EAAAA,kBAAkB,EAAE,KAVW;AAW/BC,EAAAA,gBAAgB,EAAE,EAXa;AAY/BC,EAAAA,kBAAkB,EAAE,EAZW;AAa/BC,EAAAA,gBAAgB,EAAE,EAba;AAc/B0H,EAAAA,UAAU,EAAE,IAdmB;AAe/BT,EAAAA,kBAAkB,EAAE;AACnBsC,IAAAA,YAAY,EAAE;AACbtD,MAAAA,UAAU,EAAE,MADC;AAEbC,MAAAA,QAAQ,EAAE;AAFG,KADK;AAKnBsD,IAAAA,gBAAgB,EAAE;AALC,GAfW;AAsB/BzL,EAAAA,OAAO,EAAE+H,cAtBsB;AAuB/BW,EAAAA,yBAAyB,EAAE,mCAAC5L,UAAD;AAAA,+DACwBA,UADxB;AAAA,GAvBI;AAyB/B2L,EAAAA,mBAAmB,EAAE,6BAACiD,QAAD;AAAA,qBAAsBA,QAAtB;AAAA,GAzBU;AA0B/BvJ,EAAAA,cAAc,EAAEiG,qBA1Be;AA2B/BO,EAAAA,qBAAqB,EAAE,+BAAC+C,QAAD;AAAA,qBAAsBA,QAAtB;AAAA,GA3BQ;AA4B/B9C,EAAAA,oBAAoB,EAAE,8BAACyB,YAAD,EAAepB,aAAf,EAA8BQ,WAA9B,EAA8C;AACnE,QAAI/K,OAAO,aAAW2L,YAAY,CAAC3I,IAAxB,oBAAX;;AACA,QAAI,CAACuH,aAAa,CAACnB,QAAd,CAAuBuC,YAAY,CAACxP,IAApC,CAAL,EAAgD;AAC/C6D,MAAAA,OAAO,IAAI,2BAAX;AACA;;AACD,QAAI2L,YAAY,CAACpP,IAAb,GAAoBwO,WAAxB,EAAqC;AACpC/K,MAAAA,OAAO,wCAAsC3D,sBAAsB,CAClE0O,WADkE,CAA5D,OAAP;AAGA;;AAED,WAAO/K,OAAP;AACA,GAxC8B;AAyC/BsK,EAAAA,cAAc,EAAE,0BAAM;AAzCS,CAAhC;AA4CO,IAAM2C,eAAe,GAAG/H,6BAAS,CAACoC,KAAV,CAAgB;AAC9CpL,EAAAA,IAAI,EAAEgJ,6BAAS,CAACE,MAD8B;AAE9CvI,EAAAA,IAAI,EAAEqI,6BAAS,CAACgI;AAF8B,CAAhB,CAAxB;AAKP,wCAAApD,gBAAgB,CAAC7E,SAAjB,GAA6B;AAC5B;AACD;AACA;AACCsF,EAAAA,aAAa,EAAErF,6BAAS,CAACC,OAAV,CAAkBD,6BAAS,CAACM,MAA5B,CAJa;;AAK5B;AACApH,EAAAA,UAAU,EAAE8G,6BAAS,CAACI,MANM;;AAO5B;AACA2B,EAAAA,IAAI,EAAE/B,6BAAS,CAACiI,WARY;;AAS5B;AACA5O,EAAAA,WAAW,EAAE2G,6BAAS,CAACC,OAAV,CAAkB8H,eAAlB,CAVe;;AAW5B;AACAlC,EAAAA,WAAW,EAAE7F,6BAAS,CAACI,MAZK;;AAa5B;AACAuF,EAAAA,YAAY,EAAE3F,6BAAS,CAACM,MAdI;;AAe5B;AACAkF,EAAAA,aAAa,EAAExF,6BAAS,CAACM,MAhBG;;AAiB5B;AACAmF,EAAAA,sBAAsB,EAAEzF,6BAAS,CAACM,MAlBN;;AAmB5B;AACAiF,EAAAA,wBAAwB,EAAEvF,6BAAS,CAACO,IApBR;;AAqB5B;AACAtC,EAAAA,aAAa,EAAE+B,6BAAS,CAACO,IAtBG;;AAuB5B;AACArC,EAAAA,kBAAkB,EAAE8B,6BAAS,CAACO,IAxBF;;AAyB5B;AACD;AACA;AACA;AACA;AACCpC,EAAAA,gBAAgB,EAAE6B,6BAAS,CAACE,MA9BA;;AA+B5B;AACD;AACA;AACA;AACC9B,EAAAA,kBAAkB,EAAE4B,6BAAS,CAACE,MAnCF;;AAoC5B;AACD;AACA;AACA;AACA;AACA;AACC7B,EAAAA,gBAAgB,EAAE2B,6BAAS,CAACE,MA1CA;;AA2C5B;AACA4F,EAAAA,WAAW,EAAE9F,6BAAS,CAACM,MA5CK;;AA6C5B;AACAhC,EAAAA,WAAW,EAAE0B,6BAAS,CAACmC,KAAV,CAAgB,CAAC,QAAD,EAAW,OAAX,EAAoB,MAApB,CAAhB,CA9Ce;;AA+C5B;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACC4D,EAAAA,UAAU,EAAE/F,6BAAS,CAACkI,SAAV,CAAoB,CAC/BlI,6BAAS,CAACO,IADqB,EAE/BP,6BAAS,CAACC,OAAV,CAAkBD,6BAAS,CAACmC,KAAV,CAAgB,CAAC,OAAD,EAAU,SAAV,EAAqB,MAArB,CAAhB,CAAlB,CAF+B,CAApB,CAzDgB;;AA6D5B;AACD;AACA;AACA;AACA;AACCmD,EAAAA,kBAAkB,EAAEtF,6BAAS,CAACE,MAlEF;;AAmE5B;AACD;AACA;AACA;AACA;AACCwF,EAAAA,aAAa,EAAE1F,6BAAS,CAACE,MAxEG;;AAyE5B;AACD;AACA;AACA;AACA;AACC0F,EAAAA,UAAU,EAAE5F,6BAAS,CAACE,MA9EM;;AA+E5B;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACC9D,EAAAA,OAAO,EAAE4D,6BAAS,CAACK,IAxFS;;AAyF5B;AACD;AACA;AACA;AACA;AACA;AACA;AACCyE,EAAAA,yBAAyB,EAAE9E,6BAAS,CAACK,IAhGT;;AAiG5B;AACD;AACA;AACA;AACA;AACA;AACA;AACCwE,EAAAA,mBAAmB,EAAE7E,6BAAS,CAACK,IAxGH;;AAyG5B;AACD;AACA;AACA;AACA;AACA;AACA;AACC0E,EAAAA,qBAAqB,EAAE/E,6BAAS,CAACK,IAhHL;;AAiH5B;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACC2E,EAAAA,oBAAoB,EAAEhF,6BAAS,CAACK,IA1HJ;;AA2H5B;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACC9B,EAAAA,cAAc,EAAEyB,6BAAS,CAACK,IAnIE;;AAoI5B;AACD;AACA;AACA;AACA;AACC4E,EAAAA,KAAK,EAAEjF,6BAAS,CAACK,IAzIW;;AA0I5B;AACD;AACA;AACA;AACA;AACA;AACCzF,EAAAA,OAAO,EAAEoF,6BAAS,CAACK,IAhJS;;AAiJ5B;AACD;AACA;AACA;AACA;AACA;AACClH,EAAAA,QAAQ,EAAE6G,6BAAS,CAACK,IAvJQ;;AAwJ5B;AACD;AACA;AACA;AACA;AACA;AACC6E,EAAAA,MAAM,EAAElF,6BAAS,CAACK,IA9JU;;AA+J5B;AACD;AACA;AACA;AACA;AACA;AACC8E,EAAAA,cAAc,EAAEnF,6BAAS,CAACK,IArKE;;AAsK5B;AACD;AACA;AACA;AACA;AACA;AACC+E,EAAAA,cAAc,EAAEpF,6BAAS,CAACK;AA5KE,CAA7B;;;ACpbA;AACA;AACA;AACA;AACA;AACA;AACA;;IAEM8H,YAAY,GAAG,SAAfA,YAAe,OAOf;AAAA,MANLnP,cAMK,QANLA,cAMK;AAAA,MALLC,YAKK,QALLA,YAKK;AAAA,MAJLF,QAIK,QAJLA,QAIK;AAAA,MAHLI,QAGK,QAHLA,QAGK;AAAA,MAFLD,UAEK,QAFLA,UAEK;AAAA,MADFkP,qBACE;;AACL,kBAA0DtP,QAAQ,CAAC;AAClEC,IAAAA,QAAQ,EAARA,QADkE;AAElEC,IAAAA,cAAc,EAAdA,cAFkE;AAGlEC,IAAAA,YAAY,EAAZA,YAHkE;AAIlEC,IAAAA,UAAU,EAAVA,UAJkE;AAKlEC,IAAAA,QAAQ,EAARA;AALkE,GAAD,CAAlE;AAAA,MAAQe,gBAAR,aAAQA,gBAAR;AAAA,MAA0BF,cAA1B,aAA0BA,cAA1B;AAAA,MAA0CX,WAA1C,aAA0CA,WAA1C;;AAQA,sBACCuF,+BAAC,gBAAD,mCACKwJ,qBADL;AAEC,IAAA,WAAW,EAAE/O,WAFd;AAGC,IAAA,KAAK,EAAEW,cAHR;AAIC,IAAA,QAAQ,EAAEE;AAJX,KADD;AAQA;;AAEDiO,YAAY,CAACR,YAAb,GAA4B;AAC3B3O,EAAAA,cAAc,EAAE,IADW;AAE3BE,EAAAA,UAAU,EAAE,CAFe;AAG3BD,EAAAA,YAAY,EAAE;AAHa,CAA5B;AAMA,wCAAAkP,YAAY,CAACpI,SAAb,oCACI6E,gBAAgB,CAAC7E,SADrB;AAEC;AACA/G,EAAAA,cAAc,EAAEgH,6BAAS,CAACO,IAH3B;;AAIC;AACD;AACA;AACCtH,EAAAA,YAAY,EAAE+G,6BAAS,CAACC,OAAV,CACbD,6BAAS,CAACkI,SAAV,CAAoB,CAAClI,6BAAS,CAACM,MAAX,EAAmBN,6BAAS,CAACgI,GAA7B,CAApB,CADa,CAPf;;AAUC;AACA9O,EAAAA,UAAU,EAAE8G,6BAAS,CAACI,MAXvB;;AAYC;AACD;AACA;AACA;AACA;AACCrH,EAAAA,QAAQ,EAAEiH,6BAAS,CAACK,IAjBrB;;AAkBC;AACD;AACA;AACA;AACA;AACClH,EAAAA,QAAQ,EAAE6G,6BAAS,CAACK;AAvBrB;;;ACnCA;AACA;AACA;AACA;AACA;;IACMgI,kBAAkB,GAAG,SAArBA,kBAAqB,OAWrB;AAAA,MAVLC,gBAUK,QAVLA,gBAUK;AAAA,MATLC,WASK,QATLA,WASK;AAAA,MARLC,WAQK,QARLA,WAQK;AAAA,MAPLC,SAOK,QAPLA,SAOK;AAAA,MANLC,QAMK,QANLA,QAMK;AAAA,MALL7G,OAKK,QALLA,OAKK;AAAA,MAJL8G,MAIK,QAJLA,MAIK;AAAA,MAHL9N,IAGK,QAHLA,IAGK;AAAA,MAFL+N,gBAEK,QAFLA,gBAEK;AAAA,MADFC,iBACE;;AACL;AACA,MAAMC,cAAc,GAAGD,iBAAiB,CAACxP,WAAlB,CAA8BqF,MAA9B,KAAyC,CAAhE;AAEA,sBACCE,+BAACmK,WAAD,mCACKR,WADL;AAEC,IAAA,SAAS,EAAEE,SAFZ;AAGC,IAAA,QAAQ,EAAEC,QAHX;AAIC,IAAA,OAAO,EAAE7G,OAJV;AAKC,IAAA,IAAI,EAAEhH;AALP,mBAOC+D,+BAACoK,gBAAD,QAAcR,WAAd,CAPD,eASC5J,+BAACqK,kBAAD,qBACCrK,+BAAC,gBAAD,EAAsBiK,iBAAtB,CADD,CATD,eAaCjK,+BAACsK,kBAAD,qBACCtK,+BAACuK,WAAD;AAAQ,IAAA,KAAK,EAAC,SAAd;AAAwB,IAAA,OAAO,EAAEtH;AAAjC,KACEyG,gBADF,CADD,eAKC1J,+BAACuK,WAAD;AAAQ,IAAA,KAAK,EAAC,SAAd;AAAwB,IAAA,QAAQ,EAAEL,cAAlC;AAAkD,IAAA,OAAO,EAAEH;AAA3D,KACEC,gBADF,CALD,CAbD,CADD;AAyBA;;AAEDP,kBAAkB,CAACV,YAAnB,GAAkC;AACjC9M,EAAAA,IAAI,EAAE,KAD2B;AAEjCyN,EAAAA,gBAAgB,EAAE,QAFe;AAGjCC,EAAAA,WAAW,EAAE,EAHoB;AAIjCC,EAAAA,WAAW,EAAE,aAJoB;AAKjCC,EAAAA,SAAS,EAAE,IALsB;AAMjCC,EAAAA,QAAQ,EAAE,IANuB;AAOjCE,EAAAA,gBAAgB,EAAE,QAPe;AAQjCQ,EAAAA,YAAY,EAAE,IARmB;AASjCC,EAAAA,sBAAsB,EAAE,KATS;AAUjCC,EAAAA,sBAAsB,EAAE;AAVS,CAAlC;AAaA,wCAAAjB,kBAAkB,CAACtI,SAAnB,oCACI6E,gBAAgB,CAAC7E,SADrB;AAEC;AACAlF,EAAAA,IAAI,EAAEmF,6BAAS,CAACO,IAHjB;;AAIC;AACAiI,EAAAA,WAAW,EAAExI,6BAAS,CAACkI,SAAV,CAAoB,CAAClI,6BAAS,CAACM,MAAX,EAAmBN,6BAAS,CAACuJ,OAA7B,CAApB,CALd;;AAMC;AACD;AACA;AACA;AACChB,EAAAA,WAAW,EAAEvI,6BAAS,CAACE,MAVxB;;AAWC;AACD;AACA;AACA;AACCuI,EAAAA,SAAS,EAAEzI,6BAAS,CAACO,IAftB;;AAgBC;AACD;AACA;AACA;AACCmI,EAAAA,QAAQ,EAAE1I,6BAAS,CAACM,MApBrB;;AAqBC;AACAgI,EAAAA,gBAAgB,EAAEtI,6BAAS,CAACM,MAtB7B;;AAuBC;AACAsI,EAAAA,gBAAgB,EAAE5I,6BAAS,CAACM,MAxB7B;;AAyBC;AACD;AACA;AACA;AACA;AACCuB,EAAAA,OAAO,EAAE7B,6BAAS,CAACK,IA9BpB;;AA+BC;AACD;AACA;AACA;AACA;AACCsI,EAAAA,MAAM,EAAE3I,6BAAS,CAACK,IApCnB;;AAqCC;AACD;AACA;AACA;AACC+I,EAAAA,YAAY,EAAEpJ,6BAAS,CAACO,IAzCzB;;AA0CC;AACA8I,EAAAA,sBAAsB,EAAErJ,6BAAS,CAACO,IA3CnC;;AA4CC;AACA+I,EAAAA,sBAAsB,EAAEtJ,6BAAS,CAACO;AA7CnC;;;ACjEA;AACA;AACA;AACA;AACA;AACA;AACA;;IACMiJ,cAAc,GAAG,SAAjBA,cAAiB,OASjB;AAAA,MARLxQ,cAQK,QARLA,cAQK;AAAA,MAPL6I,OAOK,QAPLA,OAOK;AAAA,MANL8G,MAMK,QANLA,MAMK;AAAA,MALL1P,YAKK,QALLA,YAKK;AAAA,MAJLC,UAIK,QAJLA,UAIK;AAAA,MAHLC,QAGK,QAHLA,QAGK;AAAA,MAFLJ,QAEK,QAFLA,QAEK;AAAA,MADF+I,KACE;;AACL,kBACChJ,QAAQ,CAAC;AACRC,IAAAA,QAAQ,EAARA,QADQ;AAERC,IAAAA,cAAc,EAAdA,cAFQ;AAGRC,IAAAA,YAAY,EAAZA,YAHQ;AAIRC,IAAAA,UAAU,EAAVA,UAJQ;AAKRC,IAAAA,QAAQ,EAARA;AALQ,GAAD,CADT;AAAA,MAAQe,gBAAR,aAAQA,gBAAR;AAAA,MAA0BF,cAA1B,aAA0BA,cAA1B;AAAA,MAA0CX,WAA1C,aAA0CA,WAA1C;AAAA,MAAuDoB,gBAAvD,aAAuDA,gBAAvD;;AASA,MAAMgP,WAAW,GAAG,SAAdA,WAAc,CAACvD,GAAD,EAAS;AAC5B,QAAIrE,OAAJ,EAAa;AACZA,MAAAA,OAAO,CAACqE,GAAD,CAAP;AACA;AACD,GAJD;;AAMA,MAAMwD,UAAU,GAAG,SAAbA,UAAa,CAACxD,GAAD,EAAS;AAC3B,QAAIyC,MAAJ,EAAY;AACXA,MAAAA,MAAM,CACLtP,WAAW,CAACK,GAAZ,CAAgB,UAACa,UAAD;AAAA,eAAgBA,UAAU,CAACvD,IAA3B;AAAA,OAAhB,CADK,EAELkP,GAFK,CAAN;AAIA;;AAED,QAAIlN,cAAJ,EAAoB;AACnByB,MAAAA,gBAAgB;AAChB;AACD,GAXD;;AAaA,sBACCmE,+BAAC,kBAAD;AACC,IAAA,cAAc,EAAE5F,cADjB;AAEC,IAAA,YAAY,EAAEC,YAFf;AAGC,IAAA,UAAU,EAAEC,UAHb;AAIC,IAAA,WAAW,EAAEG,WAJd;AAKC,IAAA,KAAK,EAAEW,cALR;AAMC,IAAA,QAAQ,EAAEE,gBANX;AAOC,IAAA,OAAO,EAAEuP,WAPV;AAQC,IAAA,QAAQ,EAAE1Q,QARX;AASC,IAAA,MAAM,EAAE2Q;AATT,KAUK5H,KAVL,EADD;AAcA;;AAED0H,cAAc,CAAC7B,YAAf,GAA8B;AAC7B3O,EAAAA,cAAc,EAAE,IADa;AAE7BE,EAAAA,UAAU,EAAE,CAFiB;AAG7BD,EAAAA,YAAY,EAAE;AAHe,CAA9B;AAMA,wCAAAuQ,cAAc,CAACzJ,SAAf,oCACIsI,kBAAkB,CAACtI,SADvB;AAEC;AACA/G,EAAAA,cAAc,EAAEgH,6BAAS,CAACO,IAH3B;;AAIC;AACArH,EAAAA,UAAU,EAAE8G,6BAAS,CAACI,MALvB;;AAMC;AACD;AACA;AACCnH,EAAAA,YAAY,EAAE+G,6BAAS,CAACC,OAAV,CACbD,6BAAS,CAACkI,SAAV,CAAoB,CAAClI,6BAAS,CAACM,MAAX,EAAmBN,6BAAS,CAACgI,GAA7B,CAApB,CADa,CATf;;AAYC;AACD;AACA;AACA;AACA;AACA;AACCW,EAAAA,MAAM,EAAE3I,6BAAS,CAACK;AAlBnB;;;;;;;"}