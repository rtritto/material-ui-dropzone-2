{"version":3,"file":"index.js","sources":["../src/helpers.js","../src/hooks/useFiles.js","../src/hooks/useSnackbar.js","../src/hooks/useWidth.js","../src/hooks/useColumns.js","../src/components/PreviewList.js","../src/components/SnackbarContentWrapper.js","../src/components/DropzoneAreaBase.js","../src/components/DropzoneArea.js","../src/components/DropzoneDialogBase.js","../src/components/DropzoneDialog.js"],"sourcesContent":["export function isImage(file) {\n  if (file.type.split('/')[0] === 'image') {\n    return true;\n  }\n  return false;\n}\n\nexport function convertBytesToMbsOrKbs(filesize) {\n    let size = '';\n    if (filesize >= 1048576) {\n        size = (filesize / 1048576) + ' megabytes';\n    } else if (filesize >= 1024) {\n        size = (filesize / 1024) + ' kilobytes';\n    } else {\n        size = filesize + ' bytes';\n    }\n    return size;\n}\n\nexport async function createFileFromUrl(url) {\n  const response = await fetch(url);\n  const data = await response.blob();\n  const metadata = { type: data.type };\n  const filename = url.replace(/\\?.+/, '').split('/').pop();\n  return new File([data], filename, metadata);\n}\n\nexport function readFile(file) {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.onload = (event) => {\n      resolve(event?.target?.result);\n    };\n    reader.onerror = (event) => {\n      reader.abort();\n      reject(event);\n    };\n    reader.readAsDataURL(file);\n  });\n}\n","import { useCallback, useEffect, useState } from 'react';\n\nimport { createFileFromUrl, readFile } from '../helpers';\n\n/**\n * holds files in its state and provides some handler methods to add and remove from that state\n */\nconst useFiles = ({\n  onChange,\n  clearOnUnmount,\n  initialFiles,\n  filesLimit,\n  onDelete,\n}) => {\n  const [fileObjects, setFileObjects] = useState([]);\n\n  const loadInitialFiles = useCallback(async () => {\n    try {\n      const fileObjs = await Promise.all(\n        initialFiles.map(async (initialFile) => {\n          let file;\n          if (typeof initialFile === 'string') {\n            file = await createFileFromUrl(initialFile);\n          } else {\n            file = initialFile;\n          }\n          const data = await readFile(file);\n\n          return {\n            file,\n            data,\n          };\n        }),\n      );\n\n      setFileObjects((prev) => [...prev, ...fileObjs]);\n    } catch (err) {\n      console.log(err);\n    }\n  }, [initialFiles]);\n\n  const handleAddFiles = useCallback(\n    (newFileObjects) => {\n      // Update component state\n      setFileObjects((prev) => {\n        if (filesLimit <= 1) {\n          return [newFileObjects[0]];\n        }\n\n        return [...prev, ...newFileObjects];\n      });\n    },\n    [filesLimit],\n  );\n\n  const handleDeleteFile = useCallback(\n    (removedFileObj, removedFileObjIdx) => {\n      // Calculate remaining fileObjects array\n      const remainingFileObjs = fileObjects.filter((fileObject, i) => {\n        return i !== removedFileObjIdx;\n      });\n\n      // Notify removed file\n      if (onDelete) {\n        onDelete(removedFileObj.file);\n      }\n\n      // Update local state\n      setFileObjects(remainingFileObjs);\n    },\n    [onDelete, fileObjects],\n  );\n\n  const handleResetFiles = () => setFileObjects([]);\n\n  // When the fileObjects change, fire the onChange method if it's defined\n  useEffect(() => {\n    if (onChange) {\n      onChange(fileObjects.map((fileObject) => fileObject.file));\n    }\n  }, [fileObjects, onChange]);\n\n  // Initialize the files when the hook is loaded\n  useEffect(() => {\n    loadInitialFiles();\n\n    return () => {\n      if (clearOnUnmount) {\n        setFileObjects([]);\n      }\n    };\n  }, [clearOnUnmount, loadInitialFiles]);\n\n  return {\n    handleAddFiles,\n    handleDeleteFile,\n    handleResetFiles,\n    fileObjects,\n  };\n};\n\nexport default useFiles;\n","import { useCallback, useState } from 'react';\n\n/**\n * Holds state required to utilize the snackbar and provides handlers to send messages via the snackbar\n */\nconst useSnackbar = (onAlert) => {\n  const [state, setState] = useState({\n    open: false,\n    message: '',\n    variant: 'success',\n  });\n\n  const sendMessage = useCallback(\n    (message, variant) => {\n      setState({\n        open: true,\n        message,\n        variant,\n      });\n\n      if (onAlert) {\n        onAlert(message, variant);\n      }\n    },\n    [onAlert],\n  );\n\n  const handleCloseSnackbar = useCallback(() => {\n    setState((prev) => ({ ...prev, open: false }));\n  }, []);\n\n  return {\n    handleCloseSnackbar,\n    sendMessage,\n    snackbarMessage: state.message,\n    snackbarVariant: state.variant,\n    snackbarOpen: state.open,\n  };\n};\n\nexport default useSnackbar;\n","import { useTheme } from '@material-ui/core/styles';\nimport matchMediaQuery from '@material-ui/core/useMediaQuery';\n\n/**\n * Returns xs,sm,md,lg or xl depending on the screenSize\n * @see https://material-ui.com/components/use-media-query/#migrating-from-withwidth\n */\nconst useWidth = () => {\n  const theme = useTheme();\n  const keys = [...theme.breakpoints.keys].reverse();\n  return (\n    keys.reduce((output, key) => {\n      const matches = matchMediaQuery(theme.breakpoints.up(key));\n      return !output && matches ? key : output;\n    }, null) || 'xs'\n  );\n};\n\nexport default useWidth;\n","import { useEffect, useState } from 'react';\n\nimport useWidth from './useWidth';\n\n/**\n * Calculates the number of columns to use in the preview based on a function passed in\n * numberOfColumns is a state variable which will update every time the width of the\n * screen changes\n */\nconst useColumns = (getCols, filesLimit, numberOfFileObjects) => {\n  const [numberOfColumns, setCols] = useState(1);\n  const width = useWidth();\n\n  useEffect(() => {\n    const cols = getCols(width, filesLimit, numberOfFileObjects);\n    setCols(cols);\n  }, [filesLimit, getCols, numberOfFileObjects, width]);\n\n  return numberOfColumns;\n};\n\nexport default useColumns;\n","import Chip from '@material-ui/core/Chip';\nimport GridList from '@material-ui/core/GridList';\nimport GridListTile from '@material-ui/core/GridListTile';\nimport GridListTileBar from '@material-ui/core/GridListTileBar';\nimport IconButton from '@material-ui/core/IconButton';\nimport { makeStyles } from '@material-ui/core/styles';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport PreviewIcon from '@material-ui/icons/Visibility';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport * as React from 'react';\n\nimport { isImage as isImageCheck } from '../helpers';\nimport useColumns from '../hooks/useColumns';\n\nconst useStyles = makeStyles(\n  ({ spacing }) => ({\n    root: {\n      alignItems: 'center',\n      position: 'absolute',\n      width: '100%',\n      height: '100%',\n      margin: 0,\n      backgroundColor: 'rgba(255,255,255,0.87)',\n    },\n    icon: {\n      color: 'rgba(255, 255, 255, 0.54)',\n    },\n    iconWrapper: {\n      height: '100%',\n      backgroundColor: '#f2f2f2',\n    },\n    fileIcon: {\n      flexGrow: 1,\n      height: '50%',\n      marginTop: spacing(3),\n    },\n    fileIconBottom: {\n      marginTop: spacing(9),\n    },\n  }),\n  { name: 'MuiDropzonePreviewList' },\n);\n\nconst PreviewList = ({\n  fileObjects,\n  filesLimit,\n  getCols,\n  handleRemove,\n  showFileNames,\n  useChipsForPreview,\n  previewChipProps,\n  previewGridClasses,\n  previewGridProps,\n  previewType,\n  getPreviewIcon,\n  handlePreviewClick,\n}) => {\n  const classes = useStyles();\n  const cols = useColumns(getCols, filesLimit, fileObjects.length);\n  const previewInside = previewType === 'inside';\n\n  if (useChipsForPreview) {\n    return (\n      <Grid\n        spacing={1}\n        direction=\"row\"\n        {...previewGridProps.container}\n        container={true}\n        className={clsx(classes.root, previewGridClasses.container)}\n      >\n        {fileObjects.map((fileObject, i) => {\n          return (\n            <Grid\n              {...previewGridProps.item}\n              item={true}\n              key={`${fileObject.file?.name ?? 'file'}-${i}`}\n              className={classes.imageContainer}\n            >\n              <Chip\n                variant=\"outlined\"\n                {...previewChipProps}\n                label={fileObject.file.name}\n                onDelete={handleRemove(i)}\n              />\n            </Grid>\n          );\n        })}\n      </Grid>\n    );\n  }\n\n  return (\n    <GridList\n      cols={cols}\n      className={clsx(\n        { [classes.root]: previewInside },\n        previewGridClasses.container,\n      )}\n      {...previewGridProps?.gridList}\n    >\n      {fileObjects.map((fileObject, i) => {\n        const fileTitle = showFileNames && fileObject.file?.name;\n        const isImage = isImageCheck(fileObject.file);\n\n        return (\n          <GridListTile\n            key={`${fileObject.file?.name ?? 'file'}-${i}`}\n            className={clsx(previewGridClasses.gridListTile, {\n              [classes.iconWrapper]: !isImage,\n            })}\n            onClick={handlePreviewClick(i)}\n            onKeyDown={handlePreviewClick(i)}\n            {...previewGridProps?.gridListTitle}\n          >\n            {getPreviewIcon(\n              fileObject,\n              classes,\n              isImage,\n              previewGridProps?.gridListTitleBar?.titlePosition === 'top',\n            )}\n\n            <GridListTileBar\n              title={fileTitle}\n              actionIcon={\n                <IconButton\n                  onClick={handleRemove(i)}\n                  aria-label=\"Delete\"\n                  className={clsx(\n                    previewGridClasses.removeIconButton,\n                    classes.icon,\n                  )}\n                >\n                  <DeleteIcon />\n                </IconButton>\n              }\n              {...previewGridProps?.gridListTitleBar}\n            />\n          </GridListTile>\n        );\n      })}\n    </GridList>\n  );\n};\n\nPreviewList.propTypes = {\n  fileObjects: PropTypes.arrayOf(PropTypes.object).isRequired,\n  filesLimit: PropTypes.number.isRequired,\n  getCols: PropTypes.func.isRequired,\n  getPreviewIcon: PropTypes.func.isRequired,\n  handleRemove: PropTypes.func.isRequired,\n  handlePreviewClick: PropTypes.func.isRequired,\n  previewChipProps: PropTypes.object,\n  previewGridClasses: PropTypes.object,\n  previewGridProps: PropTypes.object,\n  previewType: PropTypes.string.isRequired,\n  showFileNames: PropTypes.bool,\n  useChipsForPreview: PropTypes.bool,\n};\n\nexport default PreviewList;\n","import IconButton from '@material-ui/core/IconButton';\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport CloseIcon from '@material-ui/icons/Close';\nimport ErrorIcon from '@material-ui/icons/Error';\nimport InfoIcon from '@material-ui/icons/Info';\nimport WarningIcon from '@material-ui/icons/Warning';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport * as React from 'react';\n\nconst variantIcon = {\n  success: CheckCircleIcon,\n  warning: WarningIcon,\n  error: ErrorIcon,\n  info: InfoIcon,\n};\n\nconst useStyles = makeStyles((theme) => ({\n    successAlert: {\n        backgroundColor: theme.palette.success.main,\n    },\n    errorAlert: {\n        backgroundColor: theme.palette.error.main,\n    },\n    infoAlert: {\n        backgroundColor: theme.palette.info.main,\n    },\n    warningAlert: {\n        backgroundColor: theme.palette.warning.main,\n    },\n    message: {\n      display: 'flex',\n      alignItems: 'center',\n      '& > svg': {\n        marginRight: theme.spacing(1),\n      },\n    },\n    icon: {\n      fontSize: 20,\n      opacity: 0.9,\n    },\n    closeButton: {},\n  }),\n  { name: 'MuiDropzoneSnackbar' },\n);\n\nfunction SnackbarContentWrapper({\n  className,\n  message,\n  onClose,\n  variant,\n  ...other\n}) {\n  const classes = useStyles();\n  const Icon = variantIcon[variant];\n\n  return (\n    <SnackbarContent\n      className={clsx(classes[`${variant}Alert`], className)}\n      aria-describedby=\"client-snackbar\"\n      message={\n        <span id=\"client-snackbar\" className={classes.message}>\n          <Icon className={classes.icon} />\n          {message}\n        </span>\n      }\n      action={[\n        <IconButton\n          key=\"close\"\n          aria-label=\"Close\"\n          color=\"inherit\"\n          className={classes.closeButton}\n          onClick={onClose}\n        >\n          <CloseIcon className={classes.icon} />\n        </IconButton>,\n      ]}\n      {...other}\n    />\n  );\n}\n\nSnackbarContentWrapper.propTypes = {\n  className: PropTypes.string,\n  message: PropTypes.node,\n  onClose: PropTypes.func,\n  variant: PropTypes.oneOf(['success', 'warning', 'error', 'info']).isRequired,\n};\n\nexport default SnackbarContentWrapper;\n","import Grid from '@material-ui/core/Grid';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport Typography from '@material-ui/core/Typography';\nimport makeStyles from '@material-ui/core/styles/makeStyles';\nimport AttachFileIcon from '@material-ui/icons/AttachFile';\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport * as React from 'react';\nimport { useCallback } from 'react';\nimport Dropzone from 'react-dropzone';\n\nimport { convertBytesToMbsOrKbs, readFile } from '../helpers';\nimport useSnackbar from '../hooks/useSnackbar';\n\nimport PreviewList from './PreviewList';\nimport SnackbarContentWrapper from './SnackbarContentWrapper';\n\nconst useStyles = makeStyles(\n  ({ spacing, palette, shape }) => ({\n    '@keyframes progress': {\n      '0%': {\n        backgroundPosition: '0 0',\n      },\n      '100%': {\n        backgroundPosition: '-70px 0',\n      },\n    },\n    root: {\n      display: 'flex',\n      position: 'relative',\n      width: '100%',\n      minHeight: '250px',\n      backgroundColor: palette.background.paper,\n      border: 'dashed',\n      borderColor: palette.divider,\n      borderRadius: shape.borderRadius,\n      boxSizing: 'border-box',\n      cursor: 'pointer',\n      overflow: 'hidden',\n      flexDirection: 'column',\n      justifyContent: 'center',\n    },\n    active: {\n      animation: '$progress 2s linear infinite !important',\n      backgroundImage: `repeating-linear-gradient(-45deg,\n            ${palette.background.paper},\n            ${palette.background.paper} 25px,\n            ${palette.divider} 25px,\n            ${palette.divider} 50px)`,\n      backgroundSize: '150% 100%',\n      border: 'solid',\n      borderColor: palette.primary.light,\n    },\n    invalid: {\n      backgroundImage: `repeating-linear-gradient(-45deg,\n            ${palette.error.light},\n            ${palette.error.light} 25px,\n            ${palette.error.dark} 25px,\n            ${palette.error.dark} 50px)`,\n      borderColor: palette.error.main,\n    },\n    textContainer: {\n      display: 'flex',\n    },\n    text: {\n      marginBottom: spacing(3),\n      marginTop: spacing(3),\n    },\n    icon: {\n      width: 51,\n      height: 51,\n      color: palette.text.primary,\n    },\n  }),\n  { name: 'MuiDropzoneArea' },\n);\n\nconst shouldShowAlert = (enabledAlerts, alertVariant) => {\n  if (!Array.isArray(enabledAlerts)) {\n    return true;\n  }\n  return enabledAlerts.includes(alertVariant);\n};\n\nconst defaultGetCols = (width, filesLimit) => {\n  const returnBelowLimit = (number) => {\n    if (number < filesLimit) {\n      return number;\n    }\n    return filesLimit;\n  };\n\n  switch (width) {\n    case 'xs':\n      return returnBelowLimit(1);\n    case 'sm':\n      return returnBelowLimit(2);\n    case 'md':\n      return returnBelowLimit(3);\n    case 'lg':\n      return returnBelowLimit(4);\n    case 'xl':\n      return returnBelowLimit(5);\n    default:\n      return returnBelowLimit(3);\n  }\n};\n\nconst defaultSnackbarAnchorOrigin = {\n  horizontal: 'left',\n  vertical: 'bottom',\n};\n\nconst defaultGetPreviewIcon = (fileObject, classes, isImage, titleBarTop) => {\n  if (isImage) {\n    return <img alt=\"\" className={classes.image} src={fileObject.data} />;\n  }\n\n  return (\n    <Grid container className={classes.iconWrapper} justify=\"center\">\n      <AttachFileIcon\n        className={clsx(classes.fileIcon, {\n          [classes.fileIconBottom]: titleBarTop,\n        })}\n      />\n    </Grid>\n  );\n};\n\n/**\n * This components creates a Material-UI Dropzone, with previews and snackbar notifications.\n */\nconst DropzoneAreaBase = ({\n  fileObjects,\n  filesLimit,\n  getFileAddedMessage,\n  getFileLimitExceedMessage,\n  getFileRemovedMessage,\n  getDropRejectMessage,\n  onAdd,\n  onAlert,\n  onDrop,\n  onDropRejected,\n  onDelete,\n  onPreviewClick,\n  acceptedFiles,\n  alertSnackbarProps,\n  disableRejectionFeedback,\n  dropzoneClass,\n  dropzoneParagraphClass,\n  dropzoneProps,\n  dropzoneText,\n  getCols,\n  getPreviewIcon,\n  Icon,\n  inputProps,\n  maxFileSize,\n  previewChipProps,\n  previewGridClasses,\n  previewGridProps,\n  previewText,\n  previewType,\n  showAlerts,\n  showFileNames,\n  useChipsForPreview,\n}) => {\n  const classes = useStyles();\n\n  const {\n    handleCloseSnackbar,\n    sendMessage,\n    snackbarMessage,\n    snackbarOpen,\n    snackbarVariant,\n  } = useSnackbar(onAlert);\n\n  const handleDropAccepted = useCallback(\n    async (droppedFiles, evt) => {\n      if (\n        filesLimit > 1 &&\n        fileObjects.length + droppedFiles.length > filesLimit\n      ) {\n        const message = getFileLimitExceedMessage(filesLimit);\n        sendMessage(message, 'error');\n        return;\n      }\n\n      // Notify Drop event\n      if (onDrop) {\n        onDrop(droppedFiles, evt);\n      }\n\n      // Retrieve fileObjects data\n      const fileObjs = await Promise.all(\n        droppedFiles.map(async (file) => {\n          const data = await readFile(file);\n          return {\n            file,\n            data,\n          };\n        }),\n      );\n\n      // Notify added files\n      if (onAdd) {\n        onAdd(fileObjs);\n      }\n\n      const successMessage = fileObjs.reduce(\n        (msg, fileObj) => msg + getFileAddedMessage(fileObj.file.name),\n        '',\n      );\n      sendMessage(successMessage, 'success');\n    },\n    [\n      filesLimit,\n      fileObjects.length,\n      onDrop,\n      onAdd,\n      sendMessage,\n      getFileLimitExceedMessage,\n      getFileAddedMessage,\n    ],\n  );\n\n  const handleDropRejected = useCallback(\n    (rejectedFiles, evt) => {\n      let message = '';\n      rejectedFiles.forEach((rejectedFile) => {\n        message = getDropRejectMessage(\n          rejectedFile,\n          acceptedFiles,\n          maxFileSize,\n        );\n      });\n\n      if (onDropRejected) {\n        onDropRejected(rejectedFiles, evt);\n      }\n      sendMessage(message, 'error');\n    },\n    [\n      acceptedFiles,\n      getDropRejectMessage,\n      maxFileSize,\n      onDropRejected,\n      sendMessage,\n    ],\n  );\n\n  const handleRemove = useCallback(\n    (fileIndex) => (event) => {\n      event.stopPropagation();\n\n      // Find removed fileObject\n      const removedFileObj = fileObjects[fileIndex];\n\n      // Notify removed file\n      if (onDelete) {\n        onDelete(removedFileObj, fileIndex);\n      }\n      const message = getFileRemovedMessage(removedFileObj.file.name);\n      sendMessage(message, 'info');\n    },\n    [fileObjects, onDelete, getFileRemovedMessage, sendMessage],\n  );\n\n  const handlePreviewClick = useCallback(\n    (fileIndex) => (event) => {\n      event.stopPropagation();\n\n      // Find previewed fileObject\n      const previewedFileObj = fileObjects[fileIndex];\n\n      onPreviewClick(previewedFileObj, fileIndex);\n    },\n    [fileObjects, onPreviewClick],\n  );\n\n  const acceptFiles = acceptedFiles?.join(',');\n  const isMultiple = filesLimit > 1;\n  const someFiles = fileObjects.length > 0;\n\n  const alertsEnabled =\n    (typeof showAlerts === 'boolean' && showAlerts) ||\n    Array.isArray(showAlerts);\n  const isAlertOpen =\n    snackbarOpen && shouldShowAlert(showAlerts, snackbarVariant);\n\n  return (\n    <>\n      <Dropzone\n        {...dropzoneProps}\n        accept={acceptFiles}\n        onDropAccepted={handleDropAccepted}\n        onDropRejected={handleDropRejected}\n        maxSize={maxFileSize}\n        multiple={isMultiple}\n      >\n        {({ getRootProps, getInputProps, isDragActive, isDragReject }) => (\n          <div\n            {...getRootProps({\n              className: clsx(\n                classes.root,\n                dropzoneClass,\n                isDragActive && classes.active,\n                !disableRejectionFeedback && isDragReject && classes.invalid,\n              ),\n            })}\n          >\n            <input {...getInputProps(inputProps)} />\n\n            <Grid\n              container\n              className={classes.textContainer}\n              direction=\"column\"\n              justify=\"center\"\n              alignItems=\"center\"\n            >\n              <Typography\n                variant=\"h5\"\n                component=\"p\"\n                className={clsx(classes.text, dropzoneParagraphClass)}\n              >\n                {dropzoneText}\n              </Typography>\n\n              {Icon ? (\n                <Icon className={classes.icon} />\n              ) : (\n                <CloudUploadIcon className={classes.icon} />\n              )}\n            </Grid>\n\n            {someFiles && previewType === 'inside' && (\n              <PreviewList\n                fileObjects={fileObjects}\n                filesLimit={filesLimit}\n                getCols={getCols}\n                handleRemove={handleRemove}\n                getPreviewIcon={getPreviewIcon}\n                showFileNames={showFileNames}\n                useChipsForPreview={useChipsForPreview}\n                previewChipProps={previewChipProps}\n                previewGridClasses={previewGridClasses}\n                previewGridProps={previewGridProps}\n                previewType={previewType}\n                handlePreviewClick={handlePreviewClick}\n              />\n            )}\n          </div>\n        )}\n      </Dropzone>\n\n      {someFiles && previewType === 'below' && (\n        <>\n          <Typography variant=\"subtitle1\" component=\"span\">\n            {previewText}\n          </Typography>\n\n          <PreviewList\n            fileObjects={fileObjects}\n            filesLimit={filesLimit}\n            getCols={getCols}\n            handleRemove={handleRemove}\n            getPreviewIcon={getPreviewIcon}\n            showFileNames={showFileNames}\n            useChipsForPreview={useChipsForPreview}\n            previewChipProps={previewChipProps}\n            previewGridClasses={previewGridClasses}\n            previewGridProps={previewGridProps}\n            previewType={previewType}\n            handlePreviewClick={handlePreviewClick}\n          />\n        </>\n      )}\n\n      {alertsEnabled && (\n        <Snackbar\n          anchorOrigin={defaultSnackbarAnchorOrigin}\n          autoHideDuration={6000}\n          {...alertSnackbarProps}\n          open={isAlertOpen}\n          onClose={handleCloseSnackbar}\n        >\n          <SnackbarContentWrapper\n            onClose={handleCloseSnackbar}\n            variant={snackbarVariant}\n            message={snackbarMessage}\n          />\n        </Snackbar>\n      )}\n    </>\n  );\n};\n\nDropzoneAreaBase.defaultProps = {\n  acceptedFiles: [],\n  filesLimit: 3,\n  fileObjects: [],\n  maxFileSize: 3000000,\n  dropzoneText: 'Drag and drop a file here or click',\n  previewText: 'Preview:',\n  previewType: 'inside',\n  disableRejectionFeedback: false,\n  showFileNames: true,\n  useChipsForPreview: false,\n  previewChipProps: {},\n  previewGridClasses: {},\n  previewGridProps: {},\n  showAlerts: true,\n  alertSnackbarProps: {\n    anchorOrigin: {\n      horizontal: 'left',\n      vertical: 'bottom',\n    },\n    autoHideDuration: 6000,\n  },\n  getCols: defaultGetCols,\n  getFileLimitExceedMessage: (filesLimit) =>\n    `Maximum allowed number of files exceeded. Only ${filesLimit} allowed`,\n  getFileAddedMessage: (fileName) => `File ${fileName} successfully added.`,\n  getPreviewIcon: defaultGetPreviewIcon,\n  getFileRemovedMessage: (fileName) => `File ${fileName} removed.`,\n  getDropRejectMessage: (rejectedFile, acceptedFiles, maxFileSize) => {\n    let message = `File ${rejectedFile.name} was rejected. `;\n    if (!acceptedFiles.includes(rejectedFile.type)) {\n      message += 'File type not supported. ';\n    }\n    if (rejectedFile.size > maxFileSize) {\n      message += `File is too big. Size limit is ${convertBytesToMbsOrKbs(\n        maxFileSize,\n      )}. `;\n    }\n    return message;\n  },\n  onPreviewClick: () => {},\n};\n\nexport const FileObjectShape = PropTypes.shape({\n  file: PropTypes.object,\n  data: PropTypes.any,\n});\n\nDropzoneAreaBase.propTypes = {\n  /** A list of file types to accept.\n   * @see See [here](https://react-dropzone.js.org/#section-accepting-specific-file-types) for more details.\n   */\n  acceptedFiles: PropTypes.arrayOf(PropTypes.string),\n  /** Maximum number of files that can be loaded into the dropzone. */\n  filesLimit: PropTypes.number,\n  /** Icon to be displayed inside the dropzone area. */\n  Icon: PropTypes.elementType,\n  /** Currently loaded files. */\n  fileObjects: PropTypes.arrayOf(FileObjectShape),\n  /** Maximum file size (in bytes) that the dropzone will accept. */\n  maxFileSize: PropTypes.number,\n  /** Text inside the dropzone. */\n  dropzoneText: PropTypes.string,\n  /** Custom CSS class name for dropzone container. */\n  dropzoneClass: PropTypes.string,\n  /** Custom CSS class name for text inside the container. */\n  dropzoneParagraphClass: PropTypes.string,\n  /** Disable feedback effect when dropping rejected files. */\n  disableRejectionFeedback: PropTypes.bool,\n  /** Shows file name under the dropzone image. */\n  showFileNames: PropTypes.bool,\n  /** Uses deletable Material-UI Chip components to display file names. */\n  useChipsForPreview: PropTypes.bool,\n  /**\n   * Props to pass to the Material-UI Chip components.<br/>Requires `useChipsForPreview` prop to be `true`.\n   *\n   * @see See [Material-UI Chip](https://material-ui.com/api/chip/#props) for available values.\n   */\n  previewChipProps: PropTypes.object,\n  /**\n   * Custom CSS classNames for preview Grid components.<br/>\n   * Should be in the form {container: string, item: string, image: string}.\n   */\n  previewGridClasses: PropTypes.object,\n  /**\n   * Props to pass to the Material-UI Grid components.<br/>\n   * Should be in the form {container: GridProps, item: GridProps}.\n   *\n   * @see See [Material-UI Grid](https://material-ui.com/api/grid/#props) for available GridProps values.\n   */\n  previewGridProps: PropTypes.object,\n  /** The label for the file preview section. */\n  previewText: PropTypes.string,\n  /** Determines whether previews are shown inside the dropzone area, below, or not at all. Acceptable values are 'inside', 'below', 'none'. */\n  previewType: PropTypes.oneOf(['inside', 'below', 'none']),\n  /**\n   * Shows styled Material-UI Snackbar when files are dropped, deleted or rejected.\n   *\n   * - can be a boolean (\"global\" `true` or `false` for all alerts).\n   * - can be an array, with values 'error', 'info', 'success' to select to view only certain alerts:\n   *  - showAlerts={['error']} for only errors.\n   *  - showAlerts={['error', 'info']} for both errors and info.\n   *  - showAlerts={['error', 'success', 'info']} is same as showAlerts={true}.\n   *  - showAlerts={[]} is same as showAlerts={false}.\n   */\n  showAlerts: PropTypes.oneOfType([\n    PropTypes.bool,\n    PropTypes.arrayOf(PropTypes.oneOf(['error', 'success', 'info'])),\n  ]),\n  /**\n   * Props to pass to the Material-UI Snackbar components.<br/>Requires `showAlerts` prop to be `true`.\n   *\n   * @see See [Material-UI Snackbar](https://material-ui.com/api/snackbar/#props) for available values.\n   */\n  alertSnackbarProps: PropTypes.object,\n  /**\n   * Props to pass to the Dropzone component.\n   *\n   * @see See [Dropzone props](https://react-dropzone.js.org/#src) for available values.\n   */\n  dropzoneProps: PropTypes.object,\n  /**\n   * Attributes applied to the input element.\n   *\n   * @see See [MDN Input File attributes](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/file#Additional_attributes) for available values.\n   */\n  inputProps: PropTypes.object,\n  /**\n   * A function which determines which the number of columns to display in the preview list\n   *\n   * *Default*: Returns a sensible number of columns depending on the screen size (i.e. xs=1, sm=2, md=3, lg=4, xl=5) without exceeding the filesLimit (e.g. There would be no point displaying 4 columns if the filesLimit is 3)\n   *\n   * @param {string} width Width prop from useWidth, this will be one of ['xs','sm','md','lg','xl'] depending on the current screen size\n   * @param {number} filesLimit The `filesLimit` prop\n   * @param {number} currentNumberOfFiles The number of files in the `state.fileObjects`\n   */\n  getCols: PropTypes.func,\n  /**\n   * Get alert message to display when files limit is exceed.\n   *\n   * *Default*: \"Maximum allowed number of files exceeded. Only ${filesLimit} allowed\"\n   *\n   * @param {number} filesLimit The `filesLimit` currently set for the component.\n   */\n  getFileLimitExceedMessage: PropTypes.func,\n  /**\n   * Get alert message to display when a new file is added.\n   *\n   * *Default*: \"File ${fileName} successfully added.\"\n   *\n   * @param {string} fileName The newly added file name.\n   */\n  getFileAddedMessage: PropTypes.func,\n  /**\n   * Get alert message to display when a file is removed.\n   *\n   * *Default*: \"File ${fileName} removed.\"\n   *\n   * @param {string} fileName The name of the removed file.\n   */\n  getFileRemovedMessage: PropTypes.func,\n  /**\n   * Get alert message to display when a file is rejected onDrop.\n   *\n   * *Default*: \"File ${rejectedFile.name} was rejected.\"\n   *\n   * @param {Object} rejectedFile The file that got rejected\n   * @param {string[]} acceptedFiles The `acceptedFiles` prop currently set for the component\n   * @param {number} maxFileSize The `maxFileSize` prop currently set for the component\n   */\n  getDropRejectMessage: PropTypes.func,\n  /**\n   * A function which determines which icon to display for a file preview.\n   *\n   * *Default*: If its an image then displays a preview the image, otherwise it will display an attachment icon\n   *\n   * @param {FileObject} objectFile The file which the preview will belong to\n   * @param {Object} classes The classes for the file preview icon, in the default case we use the 'image' className.\n   */\n  getPreviewIcon: PropTypes.func,\n  /**\n   * Fired when new files are added to dropzone.\n   *\n   * @param {FileObject[]} newFiles The new files added to the dropzone.\n   */\n  onAdd: PropTypes.func,\n  /**\n   * Fired when an alert is triggered.\n   *\n   * @param {string} message Alert message.\n   * @param {string} variant One of \"error\", \"info\", \"success\".\n   */\n  onAlert: PropTypes.func,\n  /**\n   * Fired when a file is deleted from the previews panel.\n   *\n   * @param {FileObject} deletedFileObject The file that was removed.\n   * @param {number} index The index of the removed file object.\n   */\n  onDelete: PropTypes.func,\n  /**\n   * Fired when the user drops files into the dropzone.\n   *\n   * @param {File[]} droppedFiles All the files dropped into the dropzone.\n   * @param {Event} event The react-dropzone drop event.\n   */\n  onDrop: PropTypes.func,\n  /**\n   * Fired when a file is rejected because of wrong file type, size or goes beyond the filesLimit.\n   *\n   * @param {File[]} rejectedFiles All the rejected files.\n   * @param {Event} event The react-dropzone drop event.\n   */\n  onDropRejected: PropTypes.func,\n  /**  \n   * Fired when the user click que preview icon in the image. If this props was not informed, the preview icon doesn't appears.\n   *\n   * @param {File} clickedFile File was clicked.\n   * @param {number} index The index of clicked file object.\n   */\n  onPreviewClick: PropTypes.func,\n};\n\nexport default DropzoneAreaBase;\n","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nimport useFiles from '../hooks/useFiles';\n\nimport DropzoneAreaBase from './DropzoneAreaBase';\n\n/**\n * This components creates an uncontrolled Material-UI Dropzone, with previews and snackbar notifications.\n *\n * It supports all props of `DropzoneAreaBase` but keeps the files state internally.\n *\n * **Note** To listen to file changes use `onChange` event handler and notice that `onDelete` returns a `File` instance instead of `FileObject`.\n */\n\nconst DropzoneArea = ({\n  clearOnUnmount,\n  initialFiles,\n  onChange,\n  onDelete,\n  filesLimit,\n  ...dropzoneAreaBaseProps\n}) => {\n  const { handleDeleteFile, handleAddFiles, fileObjects } = useFiles({\n    onChange,\n    clearOnUnmount,\n    initialFiles,\n    filesLimit,\n    onDelete,\n  });\n\n  return (\n    <DropzoneAreaBase\n      {...dropzoneAreaBaseProps}\n      fileObjects={fileObjects}\n      onAdd={handleAddFiles}\n      onDelete={handleDeleteFile}\n    />\n  );\n};\n\nDropzoneArea.defaultProps = {\n  clearOnUnmount: true,\n  filesLimit: 3,\n  initialFiles: [],\n};\n\nDropzoneArea.propTypes = {\n  ...DropzoneAreaBase.propTypes,\n  /** Clear uploaded files when component is unmounted. */\n  clearOnUnmount: PropTypes.bool,\n  /** List containing File objects or URL strings.<br/>\n   * **Note:** Please take care of CORS.\n   */\n  initialFiles: PropTypes.arrayOf(\n    PropTypes.oneOfType([PropTypes.string, PropTypes.any]),\n  ),\n  /** Maximum number of files that can be loaded into the dropzone. */\n  filesLimit: PropTypes.number,\n  /**\n   * Fired when the files inside dropzone change.\n   *\n   * @param {File[]} loadedFiles All the files currently loaded into the dropzone.\n   */\n  onChange: PropTypes.func,\n  /**\n   * Fired when a file is deleted from the previews panel.\n   *\n   * @param {File} deletedFile The file that was removed.\n   */\n  onDelete: PropTypes.func,\n};\n\nexport default DropzoneArea;\n","import Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport PropTypes from 'prop-types';\nimport * as React from 'react';\n\nimport DropzoneAreaBase from './DropzoneAreaBase';\n\n/**\n * This component provides the DropzoneArea inside of a Material-UI Dialog.\n *\n * It supports all the Props and Methods from `DropzoneAreaBase`.\n */\nconst DropzoneDialogBase = ({\n  cancelButtonText,\n  dialogProps,\n  dialogTitle,\n  fullWidth,\n  maxWidth,\n  onClose,\n  onSave,\n  open,\n  submitButtonText,\n  ...dropzoneAreaProps\n}) => {\n  // Submit button state\n  const submitDisabled = dropzoneAreaProps.fileObjects.length === 0;\n\n  return (\n    <Dialog\n      cancelButtonText={cancelButtonText}\n      dialogProps={dialogProps}\n      dialogTitle={dialogTitle}\n      maxWidth={maxWidth}\n      onClose={onClose}\n      onSave={onSave}\n      open={open}\n      fullWidth={fullWidth}\n      fileObjects={dropzoneAreaProps.fileObjects}\n    >\n      <DialogTitle>{dialogTitle}</DialogTitle>\n\n      <DialogContent>\n        <DropzoneAreaBase {...dropzoneAreaProps} />\n      </DialogContent>\n\n      <DialogActions>\n        <Button color=\"primary\" onClick={onClose}>\n          {cancelButtonText}\n        </Button>\n\n        <Button color=\"primary\" disabled={submitDisabled} onClick={onSave}>\n          {submitButtonText}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nDropzoneDialogBase.defaultProps = {\n  open: false,\n  dialogTitle: 'Upload file',\n  dialogProps: {},\n  fullWidth: true,\n  maxWidth: 'sm',\n  cancelButtonText: 'Cancel',\n  submitButtonText: 'Submit',\n  showPreviews: true,\n  showPreviewsInDropzone: false,\n  showFileNamesInPreview: true,\n};\n\nDropzoneDialogBase.propTypes = {\n  ...DropzoneAreaBase.propTypes,\n  /** Sets whether the dialog is open or closed. */\n  open: PropTypes.bool,\n  /** The Dialog title. */\n  dialogTitle: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.element,\n  ]),\n  /**\n   * Props to pass to the Material-UI Dialog components.\n   * @see See [Material-UI Dialog](https://material-ui.com/api/dialog/#props) for available values.\n   */\n  dialogProps: PropTypes.object,\n  /**\n   * If `true`, the dialog stretches to `maxWidth`.<br/>\n   * Notice that the dialog width grow is limited by the default margin.\n   */\n  fullWidth: PropTypes.bool,\n  /**\n   * Determine the max-width of the dialog. The dialog width grows with the size of the screen.<br/>\n   * Set to `false` to disable `maxWidth`.\n   */\n  maxWidth: PropTypes.string,\n  /** Cancel button text in dialog. */\n  cancelButtonText: PropTypes.string,\n  /** Submit button text in dialog. */\n  submitButtonText: PropTypes.string,\n  /**\n   * Fired when the modal is closed.\n   *\n   * @param {SyntheticEvent} event The react `SyntheticEvent`\n   */\n  onClose: PropTypes.func,\n  /**\n   * Fired when the user clicks the Submit button.\n   *\n   * @param {SyntheticEvent} event The react `SyntheticEvent`\n   */\n  onSave: PropTypes.func,\n  /**\n   * Shows previews **BELOW** the dropzone.<br/>\n   * **Note:** By default previews show up under in the Dialog and inside in the standalone.\n   */\n  showPreviews: PropTypes.bool,\n  /** Shows preview **INSIDE** the dropzone area. */\n  showPreviewsInDropzone: PropTypes.bool,\n  /** Shows file name under the image. */\n  showFileNamesInPreview: PropTypes.bool,\n};\n\nexport default DropzoneDialogBase;\n","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nimport useFiles from '../hooks/useFiles';\n\nimport DropzoneDialogBase from './DropzoneDialogBase';\n\n/**\n * This component provides an uncontrolled version of the DropzoneDialogBase component.\n *\n * It supports all the Props and Methods from `DropzoneDialogBase` but keeps the files state internally.\n *\n * **Note** The `onSave` handler also returns `File[]` with all the accepted files.\n */\nconst DropzoneDialog = ({\n  clearOnUnmount,\n  onClose,\n  onSave,\n  initialFiles,\n  filesLimit,\n  onDelete,\n  onChange,\n  ...other\n}) => {\n  const {\n    handleDeleteFile,\n    handleAddFiles,\n    fileObjects,\n    handleResetFiles,\n  } = useFiles({\n    onChange,\n    clearOnUnmount,\n    initialFiles,\n    filesLimit,\n    onDelete,\n  });\n\n  const handleClose = (evt) => {\n    if (onClose) {\n      onClose(evt);\n    }\n  };\n\n  const handleSave = (evt) => {\n    if (onSave) {\n      onSave(\n        fileObjects.map((fileObject) => fileObject.file),\n        evt,\n      );\n    }\n\n    if (clearOnUnmount) {\n      handleResetFiles();\n    }\n  };\n\n  return (\n    <DropzoneDialogBase\n      clearOnUnmount={clearOnUnmount}\n      initialFiles={initialFiles}\n      filesLimit={filesLimit}\n      onChange={onChange}\n      fileObjects={fileObjects}\n      onAdd={handleAddFiles}\n      onDelete={handleDeleteFile}\n      onClose={handleClose}\n      onSave={handleSave}\n      {...other}\n    />\n  );\n};\n\nDropzoneDialog.defaultProps = {\n  clearOnUnmount: true,\n  filesLimit: 3,\n  initialFiles: [],\n};\n\nDropzoneDialog.propTypes = {\n  ...DropzoneDialogBase.propTypes,\n  /** Clear uploaded files when component is unmounted. */\n  clearOnUnmount: PropTypes.bool,\n  /** Maximum number of files that can be loaded into the dropzone. */\n  filesLimit: PropTypes.number,\n  /** List containing File objects or URL strings.<br/>\n   * **Note:** Please take care of CORS.\n   */\n  initialFiles: PropTypes.arrayOf(\n    PropTypes.oneOfType([PropTypes.string, PropTypes.any]),\n  ),\n  /**\n   * Fired when the user clicks the Submit button.\n   *\n   * @param {File[]} files All the files currently inside the Dropzone.\n   * @param {SyntheticEvent} event The react `SyntheticEvent`.\n   */\n  onSave: PropTypes.func,\n};\n\nexport default DropzoneDialog;\n"],"names":["isImage","file","type","split","convertBytesToMbsOrKbs","filesize","size","createFileFromUrl","url","fetch","response","blob","data","metadata","filename","replace","pop","File","readFile","Promise","resolve","reject","reader","FileReader","onload","event","target","result","onerror","abort","readAsDataURL","useFiles","onChange","clearOnUnmount","initialFiles","filesLimit","onDelete","useState","fileObjects","setFileObjects","loadInitialFiles","useCallback","all","map","initialFile","fileObjs","prev","console","log","handleAddFiles","newFileObjects","handleDeleteFile","removedFileObj","removedFileObjIdx","remainingFileObjs","filter","fileObject","i","handleResetFiles","useEffect","useSnackbar","onAlert","open","message","variant","state","setState","sendMessage","handleCloseSnackbar","snackbarMessage","snackbarVariant","snackbarOpen","useWidth","theme","useTheme","keys","_toConsumableArray","breakpoints","reverse","reduce","output","key","matches","matchMediaQuery","up","useColumns","getCols","numberOfFileObjects","numberOfColumns","setCols","width","cols","useStyles","makeStyles","spacing","root","alignItems","position","height","margin","backgroundColor","icon","color","iconWrapper","fileIcon","flexGrow","marginTop","fileIconBottom","name","PreviewList","handleRemove","showFileNames","useChipsForPreview","previewChipProps","previewGridClasses","previewGridProps","previewType","getPreviewIcon","handlePreviewClick","classes","length","previewInside","React","container","clsx","item","imageContainer","Chip","GridList","gridList","fileTitle","isImageCheck","GridListTile","gridListTile","gridListTitle","gridListTitleBar","titlePosition","GridListTileBar","IconButton","removeIconButton","DeleteIcon","propTypes","PropTypes","arrayOf","object","isRequired","number","func","string","bool","variantIcon","success","CheckCircleIcon","warning","WarningIcon","error","ErrorIcon","info","InfoIcon","successAlert","palette","main","errorAlert","infoAlert","warningAlert","display","marginRight","fontSize","opacity","closeButton","SnackbarContentWrapper","className","onClose","other","Icon","SnackbarContent","CloseIcon","node","oneOf","shape","backgroundPosition","minHeight","background","paper","border","borderColor","divider","borderRadius","boxSizing","cursor","overflow","flexDirection","justifyContent","active","animation","backgroundImage","backgroundSize","primary","light","invalid","dark","textContainer","text","marginBottom","shouldShowAlert","enabledAlerts","alertVariant","Array","isArray","includes","defaultGetCols","returnBelowLimit","defaultSnackbarAnchorOrigin","horizontal","vertical","defaultGetPreviewIcon","titleBarTop","image","Grid","AttachFileIcon","DropzoneAreaBase","getFileAddedMessage","getFileLimitExceedMessage","getFileRemovedMessage","getDropRejectMessage","onAdd","onDrop","onDropRejected","onPreviewClick","acceptedFiles","alertSnackbarProps","disableRejectionFeedback","dropzoneClass","dropzoneParagraphClass","dropzoneProps","dropzoneText","inputProps","maxFileSize","previewText","showAlerts","handleDropAccepted","droppedFiles","evt","successMessage","msg","fileObj","handleDropRejected","rejectedFiles","forEach","rejectedFile","fileIndex","stopPropagation","previewedFileObj","acceptFiles","join","isMultiple","someFiles","alertsEnabled","isAlertOpen","Dropzone","getRootProps","getInputProps","isDragActive","isDragReject","Typography","CloudUploadIcon","Snackbar","defaultProps","anchorOrigin","autoHideDuration","fileName","FileObjectShape","any","elementType","oneOfType","DropzoneArea","dropzoneAreaBaseProps","DropzoneDialogBase","cancelButtonText","dialogProps","dialogTitle","fullWidth","maxWidth","onSave","submitButtonText","dropzoneAreaProps","submitDisabled","Dialog","DialogTitle","DialogContent","DialogActions","Button","showPreviews","showPreviewsInDropzone","showFileNamesInPreview","element","DropzoneDialog","handleClose","handleSave"],"mappings":"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"}